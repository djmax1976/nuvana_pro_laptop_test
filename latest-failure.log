Selective Tests	Run selective tests	ï»¿2025-11-16T16:29:49.8072397Z ##[group]Run bash nuvana_control/workflows/11-ci_pipeline/scripts/test-changed.sh
Selective Tests	Run selective tests	2025-11-16T16:29:49.8072933Z [36;1mbash nuvana_control/workflows/11-ci_pipeline/scripts/test-changed.sh[0m
Selective Tests	Run selective tests	2025-11-16T16:29:49.8103841Z shell: /usr/bin/bash -e {0}
Selective Tests	Run selective tests	2025-11-16T16:29:49.8104277Z env:
Selective Tests	Run selective tests	2025-11-16T16:29:49.8104443Z   NODE_VERSION: 20
Selective Tests	Run selective tests	2025-11-16T16:29:49.8104658Z   BACKEND_URL: http://localhost:3001
Selective Tests	Run selective tests	2025-11-16T16:29:49.8104918Z   FRONTEND_URL: http://localhost:3000
Selective Tests	Run selective tests	2025-11-16T16:29:49.8105173Z   NEXT_TELEMETRY_DISABLED: 1
Selective Tests	Run selective tests	2025-11-16T16:29:49.8105394Z   BURN_IN_ITERATIONS: 5
Selective Tests	Run selective tests	2025-11-16T16:29:49.8105863Z   DATABASE_URL: ***localhost:5432/nuvana_test
Selective Tests	Run selective tests	2025-11-16T16:29:49.8106142Z   REDIS_URL: redis://localhost:6379
Selective Tests	Run selective tests	2025-11-16T16:29:49.8106467Z   RABBITMQ_URL: ***localhost:5672
Selective Tests	Run selective tests	2025-11-16T16:29:49.8106719Z   JWT_SECRET: test_jwt_secret_for_ci_only_12345678
Selective Tests	Run selective tests	2025-11-16T16:29:49.8107055Z   JWT_REFRESH_SECRET: test_refresh_secret_for_ci_only_87654321
Selective Tests	Run selective tests	2025-11-16T16:29:49.8107394Z   COOKIE_SECRET: test_cookie_secret_for_ci_only_12345678
Selective Tests	Run selective tests	2025-11-16T16:29:49.8107684Z ##[endgroup]
Selective Tests	Run selective tests	2025-11-16T16:29:49.8169561Z === Selective Test Runner ===
Selective Tests	Run selective tests	2025-11-16T16:29:49.8174595Z Analyzing changed files...
Selective Tests	Run selective tests	2025-11-16T16:29:49.8175552Z PR mode - Base branch: main
Selective Tests	Run selective tests	2025-11-16T16:29:49.8225701Z Changed files:
Selective Tests	Run selective tests	2025-11-16T16:29:49.8235909Z .claudeignore
Selective Tests	Run selective tests	2025-11-16T16:29:49.8236298Z .docker-compose.env
Selective Tests	Run selective tests	2025-11-16T16:29:49.8236693Z .github/workflows/cicd.yml
Selective Tests	Run selective tests	2025-11-16T16:29:49.8237044Z .gitignore
Selective Tests	Run selective tests	2025-11-16T16:29:49.8237411Z ANALYSIS.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8237760Z AVAILABLE-PAGES.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8238147Z OAUTH_RACE_CONDITION_FIX.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8238519Z README-DOCKER.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8238857Z ROOT_CAUSE_ANALYSIS.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8239225Z SESSION_SUMMARY.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8239574Z SETUP-COMPLETE.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8239930Z UNCOMMITTED_CODE_ANALYSIS.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8240352Z WORKFLOW_ANALYSIS.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8240704Z backend/.env.example
Selective Tests	Run selective tests	2025-11-16T16:29:49.8241127Z backend/backend/package-lock.json
Selective Tests	Run selective tests	2025-11-16T16:29:49.8241594Z backend/package-lock.json
Selective Tests	Run selective tests	2025-11-16T16:29:49.8241982Z backend/package.json
Selective Tests	Run selective tests	2025-11-16T16:29:49.8242694Z backend/prisma/migrations/20251112134518_add_rbac_models/migration.sql
Selective Tests	Run selective tests	2025-11-16T16:29:49.8243763Z backend/prisma/migrations/20251115100855_add_unique_auth_provider_id/migration.sql
Selective Tests	Run selective tests	2025-11-16T16:29:49.8244827Z backend/prisma/migrations/migration_lock.toml
Selective Tests	Run selective tests	2025-11-16T16:29:49.8245350Z backend/prisma/schema.prisma
Selective Tests	Run selective tests	2025-11-16T16:29:49.8245930Z backend/scripts/cleanup-duplicate-auth-providers.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8246443Z backend/src/app.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8246852Z backend/src/constants/permissions.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8247345Z backend/src/db/seeds/rbac.seed.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8247855Z backend/src/middleware/auth.middleware.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8248469Z backend/src/middleware/permission.middleware.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8248991Z backend/src/routes/admin.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8249385Z backend/src/routes/auth.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8249827Z backend/src/routes/companies.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8250260Z backend/src/routes/contact.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8250672Z backend/src/routes/health.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8251066Z backend/src/routes/users.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8251522Z backend/src/services/auth.service.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8252037Z backend/src/services/company.service.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8252568Z backend/src/services/rbac.service.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8253054Z backend/src/services/user.service.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8253496Z backend/src/utils/supabase.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8253869Z components.json
Selective Tests	Run selective tests	2025-11-16T16:29:49.8255421Z docker-compose.yml
Selective Tests	Run selective tests	2025-11-16T16:29:49.8255755Z next.config.js
Selective Tests	Run selective tests	2025-11-16T16:29:49.8256308Z nuvana_control/workflows/11-ci_pipeline/scripts/burn-in.sh
Selective Tests	Run selective tests	2025-11-16T16:29:49.8257085Z nuvana_control/workflows/11-ci_pipeline/scripts/kill-port.ps1
Selective Tests	Run selective tests	2025-11-16T16:29:49.8257872Z nuvana_control/workflows/11-ci_pipeline/scripts/kill-port.sh
Selective Tests	Run selective tests	2025-11-16T16:29:49.8265335Z nuvana_control/workflows/11-ci_pipeline/scripts/license-check.js
Selective Tests	Run selective tests	2025-11-16T16:29:49.8266788Z nuvana_control/workflows/11-ci_pipeline/scripts/selective-test-runner.sh
Selective Tests	Run selective tests	2025-11-16T16:29:49.8267773Z nuvana_control/workflows/11-ci_pipeline/scripts/test-changed.sh
Selective Tests	Run selective tests	2025-11-16T16:29:49.8268623Z nuvana_control/workflows/11-ci_pipeline/scripts/wait-for-url.sh
Selective Tests	Run selective tests	2025-11-16T16:29:49.8269213Z package-lock.json
Selective Tests	Run selective tests	2025-11-16T16:29:49.8269547Z package.json
Selective Tests	Run selective tests	2025-11-16T16:29:49.8269894Z playwright.config.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8270278Z prisma/schema.prisma
Selective Tests	Run selective tests	2025-11-16T16:29:49.8270721Z scripts/selective-test-runner.sh
Selective Tests	Run selective tests	2025-11-16T16:29:49.8271167Z src/app/(auth)/layout.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8271645Z src/app/(dashboard)/dashboard/page.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8272158Z src/app/(dashboard)/layout.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8272581Z src/app/dashboard/page.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8272950Z src/app/globals.css
Selective Tests	Run selective tests	2025-11-16T16:29:49.8273301Z src/app/layout.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8273631Z src/app/page.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8274267Z src/components/homepage/ContactForm.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8274886Z src/components/layout/DashboardLayout.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8275426Z src/components/layout/Header.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8276006Z src/components/layout/Sidebar.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8276456Z src/components/ui/button.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8276929Z src/components/ui/dropdown-menu.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8277385Z src/components/ui/input.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8277783Z src/components/ui/sheet.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8278139Z src/lib/utils.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8278477Z tailwind.config.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8278810Z test-results.txt
Selective Tests	Run selective tests	2025-11-16T16:29:49.8279161Z tests/OAUTH_TESTING_TODO.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8279522Z tests/README.md
Selective Tests	Run selective tests	2025-11-16T16:29:49.8279964Z tests/api/company-management.api.spec.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8280514Z tests/api/error-handling.api.spec.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8281034Z tests/api/rbac-framework.api.spec.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8281605Z tests/api/redis-rabbitmq-configuration.api.spec.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8282261Z tests/api/supabase-oauth-integration.api.spec.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8282815Z tests/component/ContactForm.test.tsx
Selective Tests	Run selective tests	2025-11-16T16:29:49.8283347Z tests/e2e/basic-ui-layout-and-navigation.spec.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8284069Z tests/e2e/homepage-contact-form.spec.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8284538Z tests/e2e/homepage.spec.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8285026Z tests/support/factories/database.factory.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8285534Z tests/support/factories/index.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8286010Z tests/support/factories/jwt.factory.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8286516Z tests/support/factories/rbac.factory.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8287024Z tests/support/fixtures/auth.fixture.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8287527Z tests/support/fixtures/backend.fixture.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8288058Z tests/support/fixtures/layout.fixture.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8288607Z tests/support/fixtures/rbac.fixture.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8289042Z tests/support/seed-roles.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8289386Z tsconfig.json
Selective Tests	Run selective tests	2025-11-16T16:29:49.8289683Z vitest.config.ts
Selective Tests	Run selective tests	2025-11-16T16:29:49.8289866Z 
Selective Tests	Run selective tests	2025-11-16T16:29:49.8290052Z === Test Selection ===
Selective Tests	Run selective tests	2025-11-16T16:29:49.8290393Z Component tests: true
Selective Tests	Run selective tests	2025-11-16T16:29:49.8290715Z API tests: true
Selective Tests	Run selective tests	2025-11-16T16:29:49.8291002Z E2E tests: true
Selective Tests	Run selective tests	2025-11-16T16:29:49.8291170Z 
Selective Tests	Run selective tests	2025-11-16T16:29:49.8291342Z Running component tests...
Selective Tests	Run selective tests	2025-11-16T16:29:49.9366293Z 
Selective Tests	Run selective tests	2025-11-16T16:29:49.9367233Z > nuvana-pro@0.1.0 test:component
Selective Tests	Run selective tests	2025-11-16T16:29:49.9368052Z > vitest run tests/component/ContactForm.test.tsx --reporter=dot
Selective Tests	Run selective tests	2025-11-16T16:29:49.9368530Z 
Selective Tests	Run selective tests	2025-11-16T16:29:50.2926214Z 
Selective Tests	Run selective tests	2025-11-16T16:29:50.2927562Z [1m[46m RUN [49m[22m [36mv4.0.8 [39m[90m/home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test[39m
Selective Tests	Run selective tests	2025-11-16T16:29:50.2928245Z 
Selective Tests	Run selective tests	2025-11-16T16:29:52.0993827Z [33m[39m[32mÂ·[39m[33m[39m[32mÂ·[39m[33m[39m[32mÂ·[39m
Selective Tests	Run selective tests	2025-11-16T16:29:52.0994668Z 
Selective Tests	Run selective tests	2025-11-16T16:29:52.0995416Z [2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
Selective Tests	Run selective tests	2025-11-16T16:29:52.0996743Z [2m      Tests [22m [1m[32m3 passed[39m[22m[90m (3)[39m
Selective Tests	Run selective tests	2025-11-16T16:29:52.0997460Z [2m   Start at [22m 16:29:50
Selective Tests	Run selective tests	2025-11-16T16:29:52.0998746Z [2m   Duration [22m 1.81s[2m (transform 123ms, setup 0ms, collect 559ms, tests 411ms, environment 606ms, prepare 8ms)[22m
Selective Tests	Run selective tests	2025-11-16T16:29:52.0999795Z 
Selective Tests	Run selective tests	2025-11-16T16:29:52.1303836Z Running API [P0] tests only...
Selective Tests	Run selective tests	2025-11-16T16:29:52.2411304Z 
Selective Tests	Run selective tests	2025-11-16T16:29:52.2412557Z > nuvana-pro@0.1.0 test:api
Selective Tests	Run selective tests	2025-11-16T16:29:52.2413178Z > playwright test --project=api --grep \[P0\]
Selective Tests	Run selective tests	2025-11-16T16:29:52.2413576Z 
Selective Tests	Run selective tests	2025-11-16T16:29:54.8353281Z 
Selective Tests	Run selective tests	2025-11-16T16:29:54.8358089Z Running 85 tests using 1 worker
Selective Tests	Run selective tests	2025-11-16T16:29:54.8362306Z 
Selective Tests	Run selective tests	2025-11-16T16:29:55.8486855Z   âœ“   1 [api] â€º tests/api/backend-setup.api.spec.ts:22:7 â€º 1.2-API-001: Backend Setup - Health Check â€º [P0] 1.2-API-001-001: GET /health should return 200 OK with status (356ms)
Selective Tests	Run selective tests	2025-11-16T16:29:55.8950710Z   âœ“   2 [api] â€º tests/api/backend-setup.api.spec.ts:91:7 â€º 1.2-API-003: Backend Setup - Security Headers (Helmet) â€º [P0] 1.2-API-003-001: Response should include security headers (24ms)
Selective Tests	Run selective tests	2025-11-16T16:29:55.9289542Z   âœ“   3 [api] â€º tests/api/backend-setup.api.spec.ts:158:7 â€º 1.2-API-005: Backend Setup - Server Configuration â€º [P0] 1.2-API-005-001: server should start on configured port (18ms)
Selective Tests	Run selective tests	2025-11-16T16:29:56.8177487Z   âœ“   4 [api] â€º tests/api/company-management.api.spec.ts:18:7 â€º Company Management API - CRUD Operations â€º [P0] POST /api/companies - should create company with valid data (AC #1) (706ms)
Selective Tests	Run selective tests	2025-11-16T16:29:57.0177778Z   âœ“   5 [api] â€º tests/api/company-management.api.spec.ts:62:7 â€º Company Management API - CRUD Operations â€º [P0] POST /api/companies - should reject invalid data (AC #1) (184ms)
Selective Tests	Run selective tests	2025-11-16T16:29:57.1161732Z   âœ“   6 [api] â€º tests/api/company-management.api.spec.ts:78:7 â€º Company Management API - CRUD Operations â€º [P0] GET /api/companies/:companyId - should retrieve company by ID (AC #2) (85ms)
Selective Tests	Run selective tests	2025-11-16T16:29:57.2173387Z   âœ“   7 [api] â€º tests/api/company-management.api.spec.ts:106:7 â€º Company Management API - CRUD Operations â€º [P0] GET /api/companies - should list all companies with pagination (AC #2) (89ms)
Selective Tests	Run selective tests	2025-11-16T16:29:57.3236743Z   âœ“   8 [api] â€º tests/api/company-management.api.spec.ts:145:7 â€º Company Management API - CRUD Operations â€º [P0] PUT /api/companies/:companyId - should update company (AC #3) (93ms)
Selective Tests	Run selective tests	2025-11-16T16:29:57.4259116Z   âœ“   9 [api] â€º tests/api/company-management.api.spec.ts:192:7 â€º Company Management API - CRUD Operations â€º [P0] DELETE /api/companies/:companyId - should soft delete non-ACTIVE company (AC #4) (90ms)
Selective Tests	Run selective tests	2025-11-16T16:29:57.6367214Z   âœ“  10 [api] â€º tests/api/company-management.api.spec.ts:231:7 â€º Company Management API - Permission Enforcement â€º [P0] should deny access to non-System Admin users (AC #1, #2, #3, #4) (197ms)
Selective Tests	Run selective tests	2025-11-16T16:29:57.6668930Z   âœ“  11 [api] â€º tests/api/company-management.api.spec.ts:258:7 â€º Company Management API - Permission Enforcement â€º [P0] should deny access without authentication (AC #1, #2, #3, #4) (16ms)
Selective Tests	Run selective tests	2025-11-16T16:29:57.7579708Z   âœ“  12 [api] â€º tests/api/company-management.api.spec.ts:317:7 â€º Company Management API - Error Handling â€º [P0] DELETE /api/companies/:companyId - should prevent deletion of ACTIVE company (80ms)
Selective Tests	Run selective tests	2025-11-16T16:29:57.8480582Z   âœ“  13 [api] â€º tests/api/company-management.api.spec.ts:346:7 â€º Company Management API - Validation Edge Cases â€º [P0] POST /api/companies - should reject whitespace-only company name (78ms)
Selective Tests	Run selective tests	2025-11-16T16:29:57.9313095Z   âœ“  14 [api] â€º tests/api/company-management.api.spec.ts:362:7 â€º Company Management API - Validation Edge Cases â€º [P0] POST /api/companies - should reject empty company name (71ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.0225515Z   âœ“  15 [api] â€º tests/api/company-management.api.spec.ts:379:7 â€º Company Management API - Validation Edge Cases â€º [P0] POST /api/companies - should accept company name with exactly 255 characters (79ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.1081682Z   âœ“  16 [api] â€º tests/api/company-management.api.spec.ts:398:7 â€º Company Management API - Validation Edge Cases â€º [P0] POST /api/companies - should reject company name exceeding 255 characters (74ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.1942728Z   âœ“  17 [api] â€º tests/api/company-management.api.spec.ts:416:7 â€º Company Management API - Validation Edge Cases â€º [P0] POST /api/companies - should reject invalid status (72ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.2951457Z   âœ“  18 [api] â€º tests/api/company-management.api.spec.ts:430:7 â€º Company Management API - Validation Edge Cases â€º [P0] POST /api/companies - should allow PENDING status (89ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.3881951Z   âœ“  19 [api] â€º tests/api/company-management.api.spec.ts:447:7 â€º Company Management API - Validation Edge Cases â€º [P0] PUT /api/companies/:companyId - should allow status transitions (79ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.4782877Z   âœ“  20 [api] â€º tests/api/company-management.api.spec.ts:470:7 â€º Company Management API - Validation Edge Cases â€º [P0] PUT /api/companies/:companyId - should reject whitespace-only name update (77ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.5766021Z   âœ“  21 [api] â€º tests/api/company-management.api.spec.ts:493:7 â€º Company Management API - Validation Edge Cases â€º [P0] should allow duplicate company names (81ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.6775037Z   âœ“  22 [api] â€º tests/api/company-management.api.spec.ts:516:7 â€º Company Management API - Audit Log Validation â€º [P0] audit log should include username and roles (88ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.7687220Z   âœ“  23 [api] â€º tests/api/company-management.api.spec.ts:545:7 â€º Company Management API - Audit Log Validation â€º [P0] audit log should capture x-forwarded-for IP when behind proxy (80ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.8714868Z   âœ“  24 [api] â€º tests/api/company-management.api.spec.ts:584:7 â€º Company Management API - Security Tests â€º [P0] should sanitize SQL injection attempts in company name (88ms)
Selective Tests	Run selective tests	2025-11-16T16:29:58.9635992Z   âœ“  25 [api] â€º tests/api/company-management.api.spec.ts:613:7 â€º Company Management API - Security Tests â€º [P0] should reject XSS attempts in company name (80ms)
Selective Tests	Run selective tests	2025-11-16T16:29:59.0475786Z   âœ“  26 [api] â€º tests/api/company-management.api.spec.ts:634:7 â€º Company Management API - Security Tests â€º [P0] should reject excessively long company names (buffer overflow protection) (73ms)
Selective Tests	Run selective tests	2025-11-16T16:29:59.4453306Z   âœ“  27 [api] â€º tests/api/company-management.api.spec.ts:654:7 â€º Company Management API - Concurrent Operations â€º [P0] should handle concurrent updates to same company (385ms)
Selective Tests	Run selective tests	2025-11-16T16:29:59.5525998Z   âœ“  28 [api] â€º tests/api/company-management.api.spec.ts:711:7 â€º Company Management API - Concurrent Operations â€º [P0] should detect concurrent modification with last_updated_at (94ms)
Selective Tests	Run selective tests	2025-11-16T16:29:59.5671588Z   âœ“  29 [api] â€º tests/api/database-setup/migrations.api.spec.ts:16:7 â€º 1.3-API-003: Database Setup - Migrations â€º [P0] 1.3-API-003-001: Migrations directory should exist (5ms)
Selective Tests	Run selective tests	2025-11-16T16:29:59.6333628Z   âœ“  30 [api] â€º tests/api/database-setup/prisma-config.api.spec.ts:16:7 â€º 1.3-API-001: Database Setup - Prisma Configuration â€º [P0] 1.3-API-001-001: Prisma Client should be generated and importable (54ms)
Selective Tests	Run selective tests	2025-11-16T16:29:59.6962361Z   âœ“  31 [api] â€º tests/api/database-setup/prisma-config.api.spec.ts:26:7 â€º 1.3-API-001: Database Setup - Prisma Configuration â€º [P0] 1.3-API-001-002: Prisma Client should connect to database (54ms)
Selective Tests	Run selective tests	2025-11-16T16:29:59.7591290Z   âœ“  32 [api] â€º tests/api/database-setup/prisma-config.api.spec.ts:36:7 â€º 1.3-API-001: Database Setup - Prisma Configuration â€º [P0] 1.3-API-001-003: Database schema should include User model (53ms)
Selective Tests	Run selective tests	2025-11-16T16:29:59.8253223Z   âœ“  33 [api] â€º tests/api/database-setup/prisma-config.api.spec.ts:46:7 â€º 1.3-API-001: Database Setup - Prisma Configuration â€º [P0] 1.3-API-001-004: Database schema should include Company model (55ms)
Selective Tests	Run selective tests	2025-11-16T16:29:59.8952001Z   âœ“  34 [api] â€º tests/api/database-setup/prisma-config.api.spec.ts:56:7 â€º 1.3-API-001: Database Setup - Prisma Configuration â€º [P0] 1.3-API-001-005: Database schema should include Store model (55ms)
Selective Tests	Run selective tests	2025-11-16T16:29:59.9665627Z   âœ“  35 [api] â€º tests/api/database-setup/schema-validation.api.spec.ts:22:7 â€º 1.3-API-002: Database Setup - Schema Validation â€º [P0] 1.3-API-002-001: User model should have required fields (60ms)
Selective Tests	Run selective tests	2025-11-16T16:30:00.0416628Z   âœ“  36 [api] â€º tests/api/database-setup/schema-validation.api.spec.ts:58:7 â€º 1.3-API-002: Database Setup - Schema Validation â€º [P0] 1.3-API-002-002: Company model should have required fields (64ms)
Selective Tests	Run selective tests	2025-11-16T16:30:00.1199058Z   âœ“  37 [api] â€º tests/api/database-setup/schema-validation.api.spec.ts:92:7 â€º 1.3-API-002: Database Setup - Schema Validation â€º [P0] 1.3-API-002-003: Store model should have required fields and foreign key (66ms)
Selective Tests	Run selective tests	2025-11-16T16:30:00.2451374Z   âœ˜  38 [api] â€º tests/api/jwt-token-system.api.spec.ts:28:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-001: GET /api/auth/callback should generate access and refresh tokens after successful OAuth (90ms)
Selective Tests	Run selective tests	2025-11-16T16:30:01.5806531Z   âœ˜  39 [api] â€º tests/api/jwt-token-system.api.spec.ts:28:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-001: GET /api/auth/callback should generate access and refresh tokens after successful OAuth (retry #1) (441ms)
Selective Tests	Run selective tests	2025-11-16T16:30:03.0022778Z   âœ˜  40 [api] â€º tests/api/jwt-token-system.api.spec.ts:28:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-001: GET /api/auth/callback should generate access and refresh tokens after successful OAuth (retry #2) (453ms)
Selective Tests	Run selective tests	2025-11-16T16:30:04.3567825Z   âœ˜  41 [api] â€º tests/api/jwt-token-system.api.spec.ts:75:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-002: Access token should have 15 minute expiry (407ms)
Selective Tests	Run selective tests	2025-11-16T16:30:05.6073589Z   âœ˜  42 [api] â€º tests/api/jwt-token-system.api.spec.ts:75:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-002: Access token should have 15 minute expiry (retry #1) (366ms)
Selective Tests	Run selective tests	2025-11-16T16:30:06.8269583Z   âœ˜  43 [api] â€º tests/api/jwt-token-system.api.spec.ts:75:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-002: Access token should have 15 minute expiry (retry #2) (364ms)
Selective Tests	Run selective tests	2025-11-16T16:30:08.1055589Z   âœ˜  44 [api] â€º tests/api/jwt-token-system.api.spec.ts:103:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-003: Refresh token should have 7 day expiry (368ms)
Selective Tests	Run selective tests	2025-11-16T16:30:09.3258261Z   âœ˜  45 [api] â€º tests/api/jwt-token-system.api.spec.ts:103:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-003: Refresh token should have 7 day expiry (retry #1) (365ms)
Selective Tests	Run selective tests	2025-11-16T16:30:10.5433569Z   âœ˜  46 [api] â€º tests/api/jwt-token-system.api.spec.ts:103:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-003: Refresh token should have 7 day expiry (retry #2) (364ms)
Selective Tests	Run selective tests	2025-11-16T16:30:11.8519099Z   âœ˜  47 [api] â€º tests/api/jwt-token-system.api.spec.ts:131:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-004: JWT access token should contain user_id, email, roles, and permissions (454ms)
Selective Tests	Run selective tests	2025-11-16T16:30:13.1540782Z   âœ˜  48 [api] â€º tests/api/jwt-token-system.api.spec.ts:131:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-004: JWT access token should contain user_id, email, roles, and permissions (retry #1) (444ms)
Selective Tests	Run selective tests	2025-11-16T16:30:14.4800655Z   âœ˜  49 [api] â€º tests/api/jwt-token-system.api.spec.ts:131:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-004: JWT access token should contain user_id, email, roles, and permissions (retry #2) (456ms)
Selective Tests	Run selective tests	2025-11-16T16:30:16.1318264Z   âœ˜  50 [api] â€º tests/api/jwt-token-system.api.spec.ts:190:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-001: Protected route should accept valid JWT access token from cookie (424ms)
Selective Tests	Run selective tests	2025-11-16T16:30:17.3898255Z   âœ˜  51 [api] â€º tests/api/jwt-token-system.api.spec.ts:190:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-001: Protected route should accept valid JWT access token from cookie (retry #1) (370ms)
Selective Tests	Run selective tests	2025-11-16T16:30:18.6746451Z   âœ˜  52 [api] â€º tests/api/jwt-token-system.api.spec.ts:190:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-001: Protected route should accept valid JWT access token from cookie (retry #2) (370ms)
Selective Tests	Run selective tests	2025-11-16T16:30:19.9010738Z   âœ˜  53 [api] â€º tests/api/jwt-token-system.api.spec.ts:220:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-002: Protected route should return 401 for expired access token (372ms)
Selective Tests	Run selective tests	2025-11-16T16:30:21.1262490Z   âœ˜  54 [api] â€º tests/api/jwt-token-system.api.spec.ts:220:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-002: Protected route should return 401 for expired access token (retry #1) (379ms)
Selective Tests	Run selective tests	2025-11-16T16:30:22.3957024Z   âœ˜  55 [api] â€º tests/api/jwt-token-system.api.spec.ts:220:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-002: Protected route should return 401 for expired access token (retry #2) (372ms)
Selective Tests	Run selective tests	2025-11-16T16:30:23.6266792Z   âœ˜  56 [api] â€º tests/api/jwt-token-system.api.spec.ts:245:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-003: Protected route should return 401 for invalid JWT token (372ms)
Selective Tests	Run selective tests	2025-11-16T16:30:24.8526551Z   âœ˜  57 [api] â€º tests/api/jwt-token-system.api.spec.ts:245:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-003: Protected route should return 401 for invalid JWT token (retry #1) (369ms)
Selective Tests	Run selective tests	2025-11-16T16:30:26.2065637Z   âœ˜  58 [api] â€º tests/api/jwt-token-system.api.spec.ts:245:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-003: Protected route should return 401 for invalid JWT token (retry #2) (405ms)
Selective Tests	Run selective tests	2025-11-16T16:30:27.4784975Z   âœ˜  59 [api] â€º tests/api/jwt-token-system.api.spec.ts:267:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-004: Protected route should return 401 for missing access token cookie (367ms)
Selective Tests	Run selective tests	2025-11-16T16:30:28.7415772Z   âœ˜  60 [api] â€º tests/api/jwt-token-system.api.spec.ts:267:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-004: Protected route should return 401 for missing access token cookie (retry #1) (369ms)
Selective Tests	Run selective tests	2025-11-16T16:30:29.9571916Z   âœ˜  61 [api] â€º tests/api/jwt-token-system.api.spec.ts:267:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-004: Protected route should return 401 for missing access token cookie (retry #2) (367ms)
Selective Tests	Run selective tests	2025-11-16T16:30:31.1892376Z   âœ˜  62 [api] â€º tests/api/jwt-token-system.api.spec.ts:283:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-005: Middleware should extract user_id, email, roles, and permissions from token (375ms)
Selective Tests	Run selective tests	2025-11-16T16:30:32.4792633Z   âœ˜  63 [api] â€º tests/api/jwt-token-system.api.spec.ts:283:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-005: Middleware should extract user_id, email, roles, and permissions from token (retry #1) (370ms)
Selective Tests	Run selective tests	2025-11-16T16:30:33.7016297Z   âœ˜  64 [api] â€º tests/api/jwt-token-system.api.spec.ts:283:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-005: Middleware should extract user_id, email, roles, and permissions from token (retry #2) (370ms)
Selective Tests	Run selective tests	2025-11-16T16:30:34.9225042Z   âœ˜  65 [api] â€º tests/api/jwt-token-system.api.spec.ts:408:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-001: POST /api/auth/refresh should generate new access and refresh tokens (371ms)
Selective Tests	Run selective tests	2025-11-16T16:30:36.1575829Z   âœ˜  66 [api] â€º tests/api/jwt-token-system.api.spec.ts:408:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-001: POST /api/auth/refresh should generate new access and refresh tokens (retry #1) (368ms)
Selective Tests	Run selective tests	2025-11-16T16:30:37.8250330Z   âœ˜  67 [api] â€º tests/api/jwt-token-system.api.spec.ts:408:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-001: POST /api/auth/refresh should generate new access and refresh tokens (retry #2) (370ms)
Selective Tests	Run selective tests	2025-11-16T16:30:39.6571250Z   âœ˜  68 [api] â€º tests/api/jwt-token-system.api.spec.ts:448:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-002: POST /api/auth/refresh should return 401 for expired refresh token (369ms)
Selective Tests	Run selective tests	2025-11-16T16:30:40.6572678Z   âœ˜  69 [api] â€º tests/api/jwt-token-system.api.spec.ts:448:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-002: POST /api/auth/refresh should return 401 for expired refresh token (retry #1) (367ms)
Selective Tests	Run selective tests	2025-11-16T16:30:41.5330650Z   âœ˜  70 [api] â€º tests/api/jwt-token-system.api.spec.ts:448:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-002: POST /api/auth/refresh should return 401 for expired refresh token (retry #2) (369ms)
Selective Tests	Run selective tests	2025-11-16T16:30:42.8878258Z   âœ˜  71 [api] â€º tests/api/jwt-token-system.api.spec.ts:473:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-003: POST /api/auth/refresh should return 401 for invalid refresh token (365ms)
Selective Tests	Run selective tests	2025-11-16T16:30:44.1183847Z   âœ˜  72 [api] â€º tests/api/jwt-token-system.api.spec.ts:473:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-003: POST /api/auth/refresh should return 401 for invalid refresh token (retry #1) (364ms)
Selective Tests	Run selective tests	2025-11-16T16:30:45.3386534Z   âœ˜  73 [api] â€º tests/api/jwt-token-system.api.spec.ts:473:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-003: POST /api/auth/refresh should return 401 for invalid refresh token (retry #2) (365ms)
Selective Tests	Run selective tests	2025-11-16T16:30:46.5686529Z   âœ˜  74 [api] â€º tests/api/jwt-token-system.api.spec.ts:495:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-004: POST /api/auth/refresh should return 401 for missing refresh token cookie (366ms)
Selective Tests	Run selective tests	2025-11-16T16:30:47.9090655Z   âœ˜  75 [api] â€º tests/api/jwt-token-system.api.spec.ts:495:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-004: POST /api/auth/refresh should return 401 for missing refresh token cookie (retry #1) (400ms)
Selective Tests	Run selective tests	2025-11-16T16:30:49.2521943Z   âœ˜  76 [api] â€º tests/api/jwt-token-system.api.spec.ts:495:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-004: POST /api/auth/refresh should return 401 for missing refresh token cookie (retry #2) (368ms)
Selective Tests	Run selective tests	2025-11-16T16:30:50.4695948Z   âœ˜  77 [api] â€º tests/api/jwt-token-system.api.spec.ts:511:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-005: Refresh token should be rotated (old token invalidated, new token issued) (369ms)
Selective Tests	Run selective tests	2025-11-16T16:30:51.6922778Z   âœ˜  78 [api] â€º tests/api/jwt-token-system.api.spec.ts:511:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-005: Refresh token should be rotated (old token invalidated, new token issued) (retry #1) (370ms)
Selective Tests	Run selective tests	2025-11-16T16:30:52.9398178Z   âœ˜  79 [api] â€º tests/api/jwt-token-system.api.spec.ts:511:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-005: Refresh token should be rotated (old token invalidated, new token issued) (retry #2) (364ms)
Selective Tests	Run selective tests	2025-11-16T16:30:54.1579993Z   âœ˜  80 [api] â€º tests/api/rbac-framework.api.spec.ts:17:7 â€º RBAC Framework - Permission Checking â€º [P0] should grant access when user has required permission (366ms)
Selective Tests	Run selective tests	2025-11-16T16:30:55.3726432Z   âœ˜  81 [api] â€º tests/api/rbac-framework.api.spec.ts:17:7 â€º RBAC Framework - Permission Checking â€º [P0] should grant access when user has required permission (retry #1) (374ms)
Selective Tests	Run selective tests	2025-11-16T16:30:56.5897549Z   âœ˜  82 [api] â€º tests/api/rbac-framework.api.spec.ts:17:7 â€º RBAC Framework - Permission Checking â€º [P0] should grant access when user has required permission (retry #2) (370ms)
Selective Tests	Run selective tests	2025-11-16T16:30:57.8393181Z   âœ˜  83 [api] â€º tests/api/rbac-framework.api.spec.ts:28:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny access with 403 when user lacks required permission (369ms)
Selective Tests	Run selective tests	2025-11-16T16:30:59.4384979Z   âœ˜  84 [api] â€º tests/api/rbac-framework.api.spec.ts:28:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny access with 403 when user lacks required permission (retry #1) (400ms)
Selective Tests	Run selective tests	2025-11-16T16:31:00.6626081Z   âœ˜  85 [api] â€º tests/api/rbac-framework.api.spec.ts:28:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny access with 403 when user lacks required permission (retry #2) (367ms)
Selective Tests	Run selective tests	2025-11-16T16:31:01.8766868Z   âœ˜  86 [api] â€º tests/api/rbac-framework.api.spec.ts:43:7 â€º RBAC Framework - Permission Checking â€º [P0] should check SYSTEM scope permissions correctly (366ms)
Selective Tests	Run selective tests	2025-11-16T16:31:03.1269539Z   âœ˜  87 [api] â€º tests/api/rbac-framework.api.spec.ts:43:7 â€º RBAC Framework - Permission Checking â€º [P0] should check SYSTEM scope permissions correctly (retry #1) (367ms)
Selective Tests	Run selective tests	2025-11-16T16:31:04.3539005Z   âœ˜  88 [api] â€º tests/api/rbac-framework.api.spec.ts:43:7 â€º RBAC Framework - Permission Checking â€º [P0] should check SYSTEM scope permissions correctly (retry #2) (366ms)
Selective Tests	Run selective tests	2025-11-16T16:31:05.5778482Z   âœ˜  89 [api] â€º tests/api/rbac-framework.api.spec.ts:56:7 â€º RBAC Framework - Permission Checking â€º [P0] should check COMPANY scope permissions correctly (368ms)
Selective Tests	Run selective tests	2025-11-16T16:31:06.7919641Z   âœ˜  90 [api] â€º tests/api/rbac-framework.api.spec.ts:56:7 â€º RBAC Framework - Permission Checking â€º [P0] should check COMPANY scope permissions correctly (retry #1) (370ms)
Selective Tests	Run selective tests	2025-11-16T16:31:08.0331947Z   âœ˜  91 [api] â€º tests/api/rbac-framework.api.spec.ts:56:7 â€º RBAC Framework - Permission Checking â€º [P0] should check COMPANY scope permissions correctly (retry #2) (366ms)
Selective Tests	Run selective tests	2025-11-16T16:31:09.3379656Z   âœ˜  92 [api] â€º tests/api/rbac-framework.api.spec.ts:69:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny COMPANY scope access to different company (384ms)
Selective Tests	Run selective tests	2025-11-16T16:31:10.9101539Z   âœ˜  93 [api] â€º tests/api/rbac-framework.api.spec.ts:69:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny COMPANY scope access to different company (retry #1) (366ms)
Selective Tests	Run selective tests	2025-11-16T16:31:12.1273742Z   âœ˜  94 [api] â€º tests/api/rbac-framework.api.spec.ts:69:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny COMPANY scope access to different company (retry #2) (372ms)
Selective Tests	Run selective tests	2025-11-16T16:31:13.3694971Z   âœ˜  95 [api] â€º tests/api/rbac-framework.api.spec.ts:82:7 â€º RBAC Framework - Permission Checking â€º [P0] should check STORE scope permissions correctly (367ms)
Selective Tests	Run selective tests	2025-11-16T16:31:14.5939023Z   âœ˜  96 [api] â€º tests/api/rbac-framework.api.spec.ts:82:7 â€º RBAC Framework - Permission Checking â€º [P0] should check STORE scope permissions correctly (retry #1) (374ms)
Selective Tests	Run selective tests	2025-11-16T16:31:15.8123646Z   âœ˜  97 [api] â€º tests/api/rbac-framework.api.spec.ts:82:7 â€º RBAC Framework - Permission Checking â€º [P0] should check STORE scope permissions correctly (retry #2) (371ms)
Selective Tests	Run selective tests	2025-11-16T16:31:17.0351112Z   âœ˜  98 [api] â€º tests/api/rbac-framework.api.spec.ts:95:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny STORE scope access to different store (367ms)
Selective Tests	Run selective tests	2025-11-16T16:31:18.2842200Z   âœ˜  99 [api] â€º tests/api/rbac-framework.api.spec.ts:95:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny STORE scope access to different store (retry #1) (367ms)
Selective Tests	Run selective tests	2025-11-16T16:31:19.5448649Z   âœ˜  100 [api] â€º tests/api/rbac-framework.api.spec.ts:95:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny STORE scope access to different store (retry #2) (371ms)
Selective Tests	Run selective tests	2025-11-16T16:31:20.8840593Z   âœ˜  101 [api] â€º tests/api/rbac-framework.api.spec.ts:108:7 â€º RBAC Framework - Permission Checking â€º [P0] should inherit COMPANY permissions to STORE scope (407ms)
Selective Tests	Run selective tests	2025-11-16T16:31:22.1377057Z   âœ˜  102 [api] â€º tests/api/rbac-framework.api.spec.ts:108:7 â€º RBAC Framework - Permission Checking â€º [P0] should inherit COMPANY permissions to STORE scope (retry #1) (369ms)
Selective Tests	Run selective tests	2025-11-16T16:31:23.3791239Z   âœ˜  103 [api] â€º tests/api/rbac-framework.api.spec.ts:108:7 â€º RBAC Framework - Permission Checking â€º [P0] should inherit COMPANY permissions to STORE scope (retry #2) (366ms)
Selective Tests	Run selective tests	2025-11-16T16:31:24.6440466Z   âœ˜  104 [api] â€º tests/api/rbac-framework.api.spec.ts:121:7 â€º RBAC Framework - Permission Checking â€º [P0] should handle multiple roles with different scopes (367ms)
Selective Tests	Run selective tests	2025-11-16T16:31:25.8644492Z   âœ˜  105 [api] â€º tests/api/rbac-framework.api.spec.ts:121:7 â€º RBAC Framework - Permission Checking â€º [P0] should handle multiple roles with different scopes (retry #1) (367ms)
Selective Tests	Run selective tests	2025-11-16T16:31:27.0857434Z   âœ˜  106 [api] â€º tests/api/rbac-framework.api.spec.ts:121:7 â€º RBAC Framework - Permission Checking â€º [P0] should handle multiple roles with different scopes (retry #2) (373ms)
Selective Tests	Run selective tests	2025-11-16T16:31:28.3282537Z   âœ˜  107 [api] â€º tests/api/rbac-framework.api.spec.ts:136:7 â€º RBAC Framework - Permission Middleware â€º [P0] should validate permission before route handler executes (375ms)
Selective Tests	Run selective tests	2025-11-16T16:31:29.5798861Z   âœ˜  108 [api] â€º tests/api/rbac-framework.api.spec.ts:136:7 â€º RBAC Framework - Permission Middleware â€º [P0] should validate permission before route handler executes (retry #1) (374ms)
Selective Tests	Run selective tests	2025-11-16T16:31:30.8081781Z   âœ˜  109 [api] â€º tests/api/rbac-framework.api.spec.ts:136:7 â€º RBAC Framework - Permission Middleware â€º [P0] should validate permission before route handler executes (retry #2) (372ms)
Selective Tests	Run selective tests	2025-11-16T16:31:32.4919972Z   âœ˜  110 [api] â€º tests/api/rbac-framework.api.spec.ts:150:7 â€º RBAC Framework - Permission Middleware â€º [P0] should allow authorized requests to proceed (373ms)
Selective Tests	Run selective tests	2025-11-16T16:31:33.7381939Z   âœ˜  111 [api] â€º tests/api/rbac-framework.api.spec.ts:150:7 â€º RBAC Framework - Permission Middleware â€º [P0] should allow authorized requests to proceed (retry #1) (369ms)
Selective Tests	Run selective tests	2025-11-16T16:31:34.9762985Z   âœ˜  112 [api] â€º tests/api/rbac-framework.api.spec.ts:150:7 â€º RBAC Framework - Permission Middleware â€º [P0] should allow authorized requests to proceed (retry #2) (370ms)
Selective Tests	Run selective tests	2025-11-16T16:31:36.1480526Z   âœ“  113 [api] â€º tests/api/rbac-framework.api.spec.ts:162:7 â€º RBAC Framework - Permission Middleware â€º [P0] should return 401 when access token is missing (354ms)
Selective Tests	Run selective tests	2025-11-16T16:31:36.1929226Z   âœ“  114 [api] â€º tests/api/rbac-framework.api.spec.ts:175:7 â€º RBAC Framework - Permission Middleware â€º [P0] should return 401 when access token is invalid (21ms)
Selective Tests	Run selective tests	2025-11-16T16:31:36.2269458Z   âœ“  115 [api] â€º tests/api/rbac-framework.api.spec.ts:191:7 â€º RBAC Framework - Permission Middleware â€º [P0] should return 401 when access token is expired (20ms)
Selective Tests	Run selective tests	2025-11-16T16:31:36.3613734Z   âœ˜  116 [api] â€º tests/api/rbac-framework.api.spec.ts:206:7 â€º RBAC Framework - Audit Logging â€º [P0] should log permission denial to AuditLog (106ms)
Selective Tests	Run selective tests	2025-11-16T16:31:37.6508207Z   âœ˜  117 [api] â€º tests/api/rbac-framework.api.spec.ts:206:7 â€º RBAC Framework - Audit Logging â€º [P0] should log permission denial to AuditLog (retry #1) (441ms)
Selective Tests	Run selective tests	2025-11-16T16:31:38.9486272Z   âœ˜  118 [api] â€º tests/api/rbac-framework.api.spec.ts:206:7 â€º RBAC Framework - Audit Logging â€º [P0] should log permission denial to AuditLog (retry #2) (440ms)
Selective Tests	Run selective tests	2025-11-16T16:31:40.2262712Z   âœ˜  119 [api] â€º tests/api/rbac-framework.api.spec.ts:232:7 â€º RBAC Framework - Audit Logging â€º [P0] should include correct permission code in audit log (438ms)
Selective Tests	Run selective tests	2025-11-16T16:31:41.5232334Z   âœ˜  120 [api] â€º tests/api/rbac-framework.api.spec.ts:232:7 â€º RBAC Framework - Audit Logging â€º [P0] should include correct permission code in audit log (retry #1) (439ms)
Selective Tests	Run selective tests	2025-11-16T16:31:43.0599721Z   âœ˜  121 [api] â€º tests/api/rbac-framework.api.spec.ts:232:7 â€º RBAC Framework - Audit Logging â€º [P0] should include correct permission code in audit log (retry #2) (510ms)
Selective Tests	Run selective tests	2025-11-16T16:31:44.3446721Z   âœ˜  122 [api] â€º tests/api/rbac-framework.api.spec.ts:253:7 â€º RBAC Framework - Audit Logging â€º [P0] should include resource path in audit log (434ms)
Selective Tests	Run selective tests	2025-11-16T16:31:45.6253569Z   âœ˜  123 [api] â€º tests/api/rbac-framework.api.spec.ts:253:7 â€º RBAC Framework - Audit Logging â€º [P0] should include resource path in audit log (retry #1) (438ms)
Selective Tests	Run selective tests	2025-11-16T16:31:46.9151828Z   âœ˜  124 [api] â€º tests/api/rbac-framework.api.spec.ts:253:7 â€º RBAC Framework - Audit Logging â€º [P0] should include resource path in audit log (retry #2) (438ms)
Selective Tests	Run selective tests	2025-11-16T16:31:47.9366707Z   âœ“  125 [api] â€º tests/api/redis-rabbitmq-configuration.api.spec.ts:20:7 â€º 1.4-API-001: Redis Connection Configuration â€º [P0] 1.4-API-001-001: Redis client should be initialized and connection verified (358ms)
Selective Tests	Run selective tests	2025-11-16T16:31:47.9897637Z   âœ“  126 [api] â€º tests/api/redis-rabbitmq-configuration.api.spec.ts:38:7 â€º 1.4-API-001: Redis Connection Configuration â€º [P0] 1.4-API-001-002: Redis connection should support ping operation (26ms)
Selective Tests	Run selective tests	2025-11-16T16:31:48.0454427Z   âœ“  127 [api] â€º tests/api/redis-rabbitmq-configuration.api.spec.ts:73:7 â€º 1.4-API-002: RabbitMQ Connection Configuration â€º [P0] 1.4-API-002-001: RabbitMQ connection should be established (33ms)
Selective Tests	Run selective tests	2025-11-16T16:31:48.0869468Z   âœ“  128 [api] â€º tests/api/redis-rabbitmq-configuration.api.spec.ts:91:7 â€º 1.4-API-002: RabbitMQ Connection Configuration â€º [P0] 1.4-API-002-002: RabbitMQ channels should be created successfully (18ms)
Selective Tests	Run selective tests	2025-11-16T16:31:48.1152073Z   âœ“  129 [api] â€º tests/api/redis-rabbitmq-configuration.api.spec.ts:126:7 â€º 1.4-API-003: Health Check Endpoint â€º [P0] 1.4-API-003-001: GET /api/health should verify both Redis and RabbitMQ services (15ms)
Selective Tests	Run selective tests	2025-11-16T16:31:48.4121649Z   âœ˜  130 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:29:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-001: GET /api/auth/callback should validate Supabase token and return user identity (101ms)
Selective Tests	Run selective tests	2025-11-16T16:31:49.7451354Z   âœ˜  131 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:29:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-001: GET /api/auth/callback should validate Supabase token and return user identity (retry #1) (435ms)
Selective Tests	Run selective tests	2025-11-16T16:31:51.0428578Z   âœ˜  132 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:29:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-001: GET /api/auth/callback should validate Supabase token and return user identity (retry #2) (435ms)
Selective Tests	Run selective tests	2025-11-16T16:31:52.3477386Z   âœ˜  133 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:66:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-002: GET /api/auth/callback should create new user if not exists (442ms)
Selective Tests	Run selective tests	2025-11-16T16:31:53.8977652Z   âœ˜  134 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:66:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-002: GET /api/auth/callback should create new user if not exists (retry #1) (503ms)
Selective Tests	Run selective tests	2025-11-16T16:31:55.1965553Z   âœ˜  135 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:66:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-002: GET /api/auth/callback should create new user if not exists (retry #2) (434ms)
Selective Tests	Run selective tests	2025-11-16T16:31:56.4951240Z   âœ˜  136 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:105:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-003: GET /api/auth/callback should retrieve existing user if already exists (439ms)
Selective Tests	Run selective tests	2025-11-16T16:31:57.7891434Z   âœ˜  137 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:105:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-003: GET /api/auth/callback should retrieve existing user if already exists (retry #1) (439ms)
Selective Tests	Run selective tests	2025-11-16T16:31:59.1173278Z   âœ˜  138 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:105:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-003: GET /api/auth/callback should retrieve existing user if already exists (retry #2) (441ms)
Selective Tests	Run selective tests	2025-11-16T16:32:00.4119311Z   âœ˜  139 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:151:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-004: GET /api/auth/callback should return 401 for invalid OAuth code (436ms)
Selective Tests	Run selective tests	2025-11-16T16:32:01.7083060Z   âœ˜  140 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:151:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-004: GET /api/auth/callback should return 401 for invalid OAuth code (retry #1) (435ms)
Selective Tests	Run selective tests	2025-11-16T16:32:03.0631972Z   âœ˜  141 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:151:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-004: GET /api/auth/callback should return 401 for invalid OAuth code (retry #2) (436ms)
Selective Tests	Run selective tests	2025-11-16T16:32:04.5254678Z   âœ“  142 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:172:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-005: GET /api/auth/callback should return 400 for missing code parameter (476ms)
Selective Tests	Run selective tests	2025-11-16T16:32:04.6763748Z   âœ˜  143 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:280:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-001: should validate valid Supabase token (93ms)
Selective Tests	Run selective tests	2025-11-16T16:32:05.9813226Z   âœ˜  144 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:280:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-001: should validate valid Supabase token (retry #1) (437ms)
Selective Tests	Run selective tests	2025-11-16T16:32:07.2836983Z   âœ˜  145 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:280:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-001: should validate valid Supabase token (retry #2) (439ms)
Selective Tests	Run selective tests	2025-11-16T16:32:08.5875560Z   âœ˜  146 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:305:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-002: should return 401 for invalid token (438ms)
Selective Tests	Run selective tests	2025-11-16T16:32:09.9332359Z   âœ˜  147 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:305:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-002: should return 401 for invalid token (retry #1) (436ms)
Selective Tests	Run selective tests	2025-11-16T16:32:11.2351147Z   âœ˜  148 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:305:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-002: should return 401 for invalid token (retry #2) (439ms)
Selective Tests	Run selective tests	2025-11-16T16:32:12.5086256Z   âœ“  149 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:327:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-003: should return 401 for expired token (422ms)
Selective Tests	Run selective tests	2025-11-16T16:32:12.6015867Z   âœ“  150 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:353:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-004: should return 401 for missing Authorization header (71ms)
Selective Tests	Run selective tests	2025-11-16T16:32:12.6890391Z   âœ“  151 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:447:7 â€º 1.5-API-003: User Service - getUserOrCreate â€º [P0] 1.5-API-003-001: should create user if auth_provider_id does not exist (65ms)
Selective Tests	Run selective tests	2025-11-16T16:32:12.7757921Z   âœ“  152 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:475:7 â€º 1.5-API-003: User Service - getUserOrCreate â€º [P0] 1.5-API-003-002: should retrieve existing user by auth_provider_id (73ms)
Selective Tests	Run selective tests	2025-11-16T16:32:12.9003588Z   âœ˜  153 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:505:7 â€º 1.5-API-003: User Service - getUserOrCreate â€º [P0] 1.5-API-003-003: should handle duplicate email gracefully (89ms)
Selective Tests	Run selective tests	2025-11-16T16:32:14.2385518Z   âœ˜  154 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:505:7 â€º 1.5-API-003: User Service - getUserOrCreate â€º [P0] 1.5-API-003-003: should handle duplicate email gracefully (retry #1) (449ms)
Selective Tests	Run selective tests	2025-11-16T16:32:15.9504310Z   âœ˜  155 [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:505:7 â€º 1.5-API-003: User Service - getUserOrCreate â€º [P0] 1.5-API-003-003: should handle duplicate email gracefully (retry #2) (496ms)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1197096Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1204920Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1210868Z   1) [api] â€º tests/api/jwt-token-system.api.spec.ts:28:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-001: GET /api/auth/callback should generate access and refresh tokens after successful OAuth 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1214872Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1217980Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1220080Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1221015Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1221732Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1223065Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1223391Z       40 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1225223Z       41 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1227155Z     > 42 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1228262Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1234535Z       43 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1235010Z       44 |     // AND: Access token is set in httpOnly cookie
Selective Tests	Run selective tests	2025-11-16T16:32:16.1236052Z       45 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1237170Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:42:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1237890Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1238650Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1239840Z     test-results/artifacts/api-jwt-token-system.api-1-fa5f6-kens-after-successful-OAuth-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1240665Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1240850Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1241675Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-fa5f6-kens-after-successful-OAuth-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1242530Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1243140Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1243547Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1244368Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1244790Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1245593Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1246224Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1246471Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1246913Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1247172Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1247291Z       40 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1247664Z       41 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1248210Z     > 42 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1248716Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1249110Z       43 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1249550Z       44 |     // AND: Access token is set in httpOnly cookie
Selective Tests	Run selective tests	2025-11-16T16:32:16.1250282Z       45 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1251386Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:42:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1252125Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1252845Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1254260Z     test-results/artifacts/api-jwt-token-system.api-1-fa5f6-kens-after-successful-OAuth-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1255175Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1255360Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1256249Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-fa5f6-kens-after-successful-OAuth-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1257178Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1257807Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1258212Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1258787Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1259378Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1260168Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1261040Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1261272Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1261698Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1261935Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1262055Z       40 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1262410Z       41 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1262911Z     > 42 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1263387Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1263770Z       43 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1280549Z       44 |     // AND: Access token is set in httpOnly cookie
Selective Tests	Run selective tests	2025-11-16T16:32:16.1281268Z       45 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1293578Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:42:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1294543Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1295330Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1296621Z     test-results/artifacts/api-jwt-token-system.api-1-fa5f6-kens-after-successful-OAuth-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1297552Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1297738Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1298648Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-fa5f6-kens-after-successful-OAuth-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1299570Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1300212Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1300629Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1301887Z   2) [api] â€º tests/api/jwt-token-system.api.spec.ts:75:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-002: Access token should have 15 minute expiry 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1302907Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1303760Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1304670Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1304927Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1305349Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1305574Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1305696Z       86 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1306048Z       87 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1306536Z     > 88 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1306999Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1307353Z       89 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1307828Z       90 |     // AND: Access token cookie has Max-Age of 900 seconds (15 minutes)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1308509Z       91 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1309536Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:88:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1310198Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1310880Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1311968Z     test-results/artifacts/api-jwt-token-system.api-1-1ba3a-hould-have-15-minute-expiry-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1312736Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1312884Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1313644Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-1ba3a-hould-have-15-minute-expiry-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1314799Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1315345Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1315728Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1316267Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1316652Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1317360Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1317928Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1318362Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1318792Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1319001Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1319320Z       86 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1319807Z       87 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1320614Z     > 88 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1321238Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1321735Z       89 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1322411Z       90 |     // AND: Access token cookie has Max-Age of 900 seconds (15 minutes)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1323270Z       91 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1324613Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:88:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1325493Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1326236Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1327533Z     test-results/artifacts/api-jwt-token-system.api-1-1ba3a-hould-have-15-minute-expiry-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1404366Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1404661Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1405540Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-1ba3a-hould-have-15-minute-expiry-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1406347Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1406933Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1407277Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1407787Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1408145Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1408813Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1409362Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1409538Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1409921Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1410138Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1410247Z       86 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1410587Z       87 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1411053Z     > 88 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1411503Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1411857Z       89 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1412327Z       90 |     // AND: Access token cookie has Max-Age of 900 seconds (15 minutes)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1413015Z       91 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1414214Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:88:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1414875Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1415514Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1416607Z     test-results/artifacts/api-jwt-token-system.api-1-1ba3a-hould-have-15-minute-expiry-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1417364Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1417507Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1418591Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-1ba3a-hould-have-15-minute-expiry-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1419580Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1420076Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1420420Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1421506Z   3) [api] â€º tests/api/jwt-token-system.api.spec.ts:103:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-003: Refresh token should have 7 day expiry 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1422323Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1422995Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1423568Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1423753Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1424288Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1424499Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1424611Z       114 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1424953Z       115 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1425446Z     > 116 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1425905Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1426259Z       117 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1426723Z       118 |     // AND: Refresh token cookie has Max-Age of 604800 seconds (7 days)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1427431Z       119 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1428514Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:116:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1429215Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1429879Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1431026Z     test-results/artifacts/api-jwt-token-system.api-1-00bb6-en-should-have-7-day-expiry-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1431776Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1431928Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1432654Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-00bb6-en-should-have-7-day-expiry-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1433412Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1434050Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1434460Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1435008Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1435412Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1436121Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1436720Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1436918Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1437330Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1437549Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1437659Z       114 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1438002Z       115 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1438484Z     > 116 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1438932Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1439279Z       117 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1440027Z       118 |     // AND: Refresh token cookie has Max-Age of 604800 seconds (7 days)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1440761Z       119 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1441994Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:116:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1442699Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1443350Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1444739Z     test-results/artifacts/api-jwt-token-system.api-1-00bb6-en-should-have-7-day-expiry-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1445522Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1445671Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1446472Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-00bb6-en-should-have-7-day-expiry-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1447330Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1447876Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1448271Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1448821Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1449226Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1449943Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1450546Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1450736Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1451138Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1451350Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1451455Z       114 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1451771Z       115 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1452232Z     > 116 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1452694Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1453059Z       117 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1453570Z       118 |     // AND: Refresh token cookie has Max-Age of 604800 seconds (7 days)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1454462Z       119 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1465083Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:116:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1465794Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1466479Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1467637Z     test-results/artifacts/api-jwt-token-system.api-1-00bb6-en-should-have-7-day-expiry-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1468430Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1468586Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1469409Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-00bb6-en-should-have-7-day-expiry-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1470225Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1470738Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1471101Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1472433Z   4) [api] â€º tests/api/jwt-token-system.api.spec.ts:131:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-004: JWT access token should contain user_id, email, roles, and permissions 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1473455Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1474344Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1474947Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1475148Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1475556Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1475771Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1475880Z       152 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1476220Z       153 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1476711Z     > 154 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1477195Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1477576Z       155 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1478065Z       156 |     // AND: Access token cookie contains JWT with required claims
Selective Tests	Run selective tests	2025-11-16T16:32:16.1478807Z       157 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1480090Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:154:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1480937Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1481580Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1482650Z     test-results/artifacts/api-jwt-token-system.api-1-95fd9-email-roles-and-permissions-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1483421Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1483580Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1485049Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-95fd9-email-roles-and-permissions-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1485896Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1486461Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1486843Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1487378Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1487739Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1488441Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1489064Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1489262Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1489679Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1489910Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1490022Z       152 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1490369Z       153 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1490874Z     > 154 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1491361Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1491737Z       155 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1492224Z       156 |     // AND: Access token cookie contains JWT with required claims
Selective Tests	Run selective tests	2025-11-16T16:32:16.1492962Z       157 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1494100Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:154:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1494811Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1495477Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1496694Z     test-results/artifacts/api-jwt-token-system.api-1-95fd9-email-roles-and-permissions-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1497557Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1497709Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1498580Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-95fd9-email-roles-and-permissions-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1499467Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1500005Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1500380Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1500904Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1501276Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1501955Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1502710Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1502943Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1503328Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1503543Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1503818Z       152 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1504386Z       153 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1504874Z     > 154 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1505341Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1505703Z       155 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1506175Z       156 |     // AND: Access token cookie contains JWT with required claims
Selective Tests	Run selective tests	2025-11-16T16:32:16.1506836Z       157 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1507825Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:154:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1508442Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1509038Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1510132Z     test-results/artifacts/api-jwt-token-system.api-1-95fd9-email-roles-and-permissions-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1510927Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1511083Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1511897Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-95fd9-email-roles-and-permissions-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1512719Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1513231Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1513609Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1514996Z   5) [api] â€º tests/api/jwt-token-system.api.spec.ts:190:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-001: Protected route should accept valid JWT access token from cookie 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1516022Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1516757Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1517367Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1517561Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1517991Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1518224Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1518336Z       209 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1518726Z       210 |     // THEN: Request is authorized (200 OK)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1519285Z     > 211 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1519781Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1520126Z       212 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1520503Z       213 |     // AND: User context is available in response
Selective Tests	Run selective tests	2025-11-16T16:32:16.1521035Z       214 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1521970Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:211:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1522627Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1523230Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1524615Z     test-results/artifacts/api-jwt-token-system.api-1-7f49e-WT-access-token-from-cookie-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1525582Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1525729Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1526481Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-7f49e-WT-access-token-from-cookie-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1527442Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1528000Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1528382Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1528962Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1529352Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1530090Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1530716Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1530964Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1531429Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1531672Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1531807Z       209 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1532220Z       210 |     // THEN: Request is authorized (200 OK)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1532797Z     > 211 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1533304Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1533711Z       212 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1534386Z       213 |     // AND: User context is available in response
Selective Tests	Run selective tests	2025-11-16T16:32:16.1534936Z       214 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1536351Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:211:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1537020Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1537679Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1538817Z     test-results/artifacts/api-jwt-token-system.api-1-7f49e-WT-access-token-from-cookie-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1539662Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1539820Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1540689Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-7f49e-WT-access-token-from-cookie-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1541523Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1542033Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1542431Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1542945Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1543332Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1544425Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1545042Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1545315Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1545769Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1545976Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1546098Z       209 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1546478Z       210 |     // THEN: Request is authorized (200 OK)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1547010Z     > 211 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1547508Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1547897Z       212 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1548573Z       213 |     // AND: User context is available in response
Selective Tests	Run selective tests	2025-11-16T16:32:16.1549140Z       214 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1550356Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:211:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1551080Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1551816Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1552994Z     test-results/artifacts/api-jwt-token-system.api-1-7f49e-WT-access-token-from-cookie-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1553888Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1554370Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1555287Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-7f49e-WT-access-token-from-cookie-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1556197Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1556822Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1557262Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1558612Z   6) [api] â€º tests/api/jwt-token-system.api.spec.ts:220:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-002: Protected route should return 401 for expired access token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1559697Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1560492Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1561132Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1561489Z     Expected substring: [32m"expired"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1562163Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1562499Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1562753Z       240 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1563332Z       241 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1564135Z     > 242 |     expect(body.error).toContain("expired");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1564682Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1565088Z       243 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1565403Z       244 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1566728Z       245 |   test("[P0] 1.6-API-002-003: Protected route should return 401 for invalid JWT token", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1568028Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:242:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.1568714Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1569466Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1570679Z     test-results/artifacts/api-jwt-token-system.api-1-74214-01-for-expired-access-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1571517Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1571699Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1572532Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-74214-01-for-expired-access-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1573390Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1574284Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1574717Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1575364Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1575794Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1576578Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1577217Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1577605Z     Expected substring: [32m"expired"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1578307Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1578650Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1578912Z       240 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1579525Z       241 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1580156Z     > 242 |     expect(body.error).toContain("expired");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1580704Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1581096Z       243 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1581401Z       244 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1582110Z       245 |   test("[P0] 1.6-API-002-003: Protected route should return 401 for invalid JWT token", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1583593Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:242:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.1584792Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1585535Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1586683Z     test-results/artifacts/api-jwt-token-system.api-1-74214-01-for-expired-access-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1587456Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1587610Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1588399Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-74214-01-for-expired-access-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1589181Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1589688Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1590051Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1590526Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1590897Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1591534Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1592108Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1592413Z     Expected substring: [32m"expired"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1592995Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1593304Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1593515Z       240 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1594274Z       241 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1594832Z     > 242 |     expect(body.error).toContain("expired");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1595317Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1595683Z       243 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1595955Z       244 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1596607Z       245 |   test("[P0] 1.6-API-002-003: Protected route should return 401 for invalid JWT token", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1597822Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:242:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.1598512Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1599162Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1600350Z     test-results/artifacts/api-jwt-token-system.api-1-74214-01-for-expired-access-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1601165Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1601324Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1602159Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-74214-01-for-expired-access-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1603035Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1603547Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1604072Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1605286Z   7) [api] â€º tests/api/jwt-token-system.api.spec.ts:245:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-003: Protected route should return 401 for invalid JWT token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1606216Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1607095Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1607801Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1608063Z     Expected substring: [32m"token"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1608630Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1608950Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1609177Z       262 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1609718Z       263 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1610267Z     > 264 |     expect(body.error).toContain("token");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1610724Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1611075Z       265 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1611339Z       266 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1612058Z       267 |   test("[P0] 1.6-API-002-004: Protected route should return 401 for missing access token cookie", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1613302Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:264:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.1614206Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1614886Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1616049Z     test-results/artifacts/api-jwt-token-system.api-1-5691c-n-401-for-invalid-JWT-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1616812Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1616961Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1617707Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-5691c-n-401-for-invalid-JWT-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1618510Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1619039Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1619425Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1619965Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1620339Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1621012Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1621625Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1621895Z     Expected substring: [32m"token"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1622472Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1622805Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1623012Z       262 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1623814Z       263 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1627665Z     > 264 |     expect(body.error).toContain("token");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1628172Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1628549Z       265 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1628832Z       266 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1629557Z       267 |   test("[P0] 1.6-API-002-004: Protected route should return 401 for missing access token cookie", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1630764Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:264:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.1631431Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1632149Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1633596Z     test-results/artifacts/api-jwt-token-system.api-1-5691c-n-401-for-invalid-JWT-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1634896Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1635017Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1635520Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-5691c-n-401-for-invalid-JWT-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1636028Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1636367Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1636594Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1636895Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1637122Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1637522Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1637866Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1638024Z     Expected substring: [32m"token"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1638390Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1638579Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1638724Z       262 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1639063Z       263 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1639392Z     > 264 |     expect(body.error).toContain("token");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1639673Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1639900Z       265 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1640067Z       266 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1640493Z       267 |   test("[P0] 1.6-API-002-004: Protected route should return 401 for missing access token cookie", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1641217Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:264:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.1641624Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1641988Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1642665Z     test-results/artifacts/api-jwt-token-system.api-1-5691c-n-401-for-invalid-JWT-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1643149Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1643249Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1643726Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-5691c-n-401-for-invalid-JWT-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1644852Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1645157Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1645383Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1646117Z   8) [api] â€º tests/api/jwt-token-system.api.spec.ts:267:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-004: Protected route should return 401 for missing access token cookie 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1646697Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1647093Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1647437Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1647592Z     Expected substring: [32m"token"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1647951Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1648135Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1648272Z       278 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1648593Z       279 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1648907Z     > 280 |     expect(body.error).toContain("token");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1649182Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1649400Z       281 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1649570Z       282 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1650010Z       283 |   test("[P0] 1.6-API-002-005: Middleware should extract user_id, email, roles, and permissions from token", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1650757Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:280:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.1651159Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1651519Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1652172Z     test-results/artifacts/api-jwt-token-system.api-1-c48bf-missing-access-token-cookie-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1652784Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1652876Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1653442Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-c48bf-missing-access-token-cookie-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1654142Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1654504Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1654740Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1655038Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1655272Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1655664Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1656004Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1656152Z     Expected substring: [32m"token"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1656500Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1656682Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1656832Z       278 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1657150Z       279 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1657482Z     > 280 |     expect(body.error).toContain("token");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1657758Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1657976Z       281 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1658147Z       282 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1658616Z       283 |   test("[P0] 1.6-API-002-005: Middleware should extract user_id, email, roles, and permissions from token", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1659376Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:280:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.1659777Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1660139Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1660827Z     test-results/artifacts/api-jwt-token-system.api-1-c48bf-missing-access-token-cookie-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1661318Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1661411Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1661896Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-c48bf-missing-access-token-cookie-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1662398Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1662683Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1662905Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1663198Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1663435Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1663819Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1664735Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1664918Z     Expected substring: [32m"token"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1665278Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1665464Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1665604Z       278 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1666097Z       279 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1666412Z     > 280 |     expect(body.error).toContain("token");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1666810Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1667031Z       281 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1667201Z       282 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1667655Z       283 |   test("[P0] 1.6-API-002-005: Middleware should extract user_id, email, roles, and permissions from token", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1668405Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:280:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.1668806Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1669168Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1669855Z     test-results/artifacts/api-jwt-token-system.api-1-c48bf-missing-access-token-cookie-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1670337Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1670429Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1670910Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-c48bf-missing-access-token-cookie-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1671416Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1671711Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1671933Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1672700Z   9) [api] â€º tests/api/jwt-token-system.api.spec.ts:283:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-005: Middleware should extract user_id, email, roles, and permissions from token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1673310Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1673715Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1674285Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1674416Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1674671Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1674801Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1674874Z       302 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1675104Z       303 |     // THEN: Request is authorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1675425Z     > 304 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1675710Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1675939Z       305 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1676167Z       306 |     // AND: User context contains all claims
Selective Tests	Run selective tests	2025-11-16T16:32:16.1676475Z       307 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1677038Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:304:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1677442Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1677804Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1678448Z     test-results/artifacts/api-jwt-token-system.api-1-e0466--and-permissions-from-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1678901Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1678995Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1679445Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-e0466--and-permissions-from-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1680069Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1680356Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1680686Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1680986Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1681213Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1681616Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1681956Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1682070Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1682304Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1682435Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1682506Z       302 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1682718Z       303 |     // THEN: Request is authorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1683023Z     > 304 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1683308Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1683535Z       305 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1683759Z       306 |     // AND: User context contains all claims
Selective Tests	Run selective tests	2025-11-16T16:32:16.1684270Z       307 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1684834Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:304:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1685269Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1685640Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1686313Z     test-results/artifacts/api-jwt-token-system.api-1-e0466--and-permissions-from-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1686803Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1686905Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1687391Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-e0466--and-permissions-from-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1687891Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1688179Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1688405Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1688710Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1688950Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1689367Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1689711Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1689820Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1690059Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1690186Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1690258Z       302 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1690464Z       303 |     // THEN: Request is authorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1690766Z     > 304 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1691047Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1691267Z       305 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1691481Z       306 |     // AND: User context contains all claims
Selective Tests	Run selective tests	2025-11-16T16:32:16.1691797Z       307 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1692355Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:304:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1692890Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1693253Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1694313Z     test-results/artifacts/api-jwt-token-system.api-1-e0466--and-permissions-from-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1694800Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1694901Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1695377Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-e0466--and-permissions-from-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1695870Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1696172Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1696388Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1697093Z   10) [api] â€º tests/api/jwt-token-system.api.spec.ts:408:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-001: POST /api/auth/refresh should generate new access and refresh tokens 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1697670Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1698075Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1698436Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1698546Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1698784Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1698912Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1698984Z       423 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1699179Z       424 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1699472Z     > 425 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1699755Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1699970Z       426 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1700190Z       427 |     // AND: New access token is set in cookie
Selective Tests	Run selective tests	2025-11-16T16:32:16.1700570Z       428 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1701198Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:425:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1701593Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1701958Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1702605Z     test-results/artifacts/api-jwt-token-system.api-1-49e84-w-access-and-refresh-tokens-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1703088Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1703190Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1703634Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-49e84-w-access-and-refresh-tokens-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1704316Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1704613Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1704836Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1705130Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1705364Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1705763Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1706101Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1706231Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1706468Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1706593Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1706672Z       423 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1706871Z       424 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1707176Z     > 425 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1707463Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1707681Z       426 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1707903Z       427 |     // AND: New access token is set in cookie
Selective Tests	Run selective tests	2025-11-16T16:32:16.1708280Z       428 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1708894Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:425:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1709285Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1709648Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1710326Z     test-results/artifacts/api-jwt-token-system.api-1-49e84-w-access-and-refresh-tokens-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1710951Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1711050Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1711635Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-49e84-w-access-and-refresh-tokens-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1712133Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1712419Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1712639Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1712930Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1713165Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1713563Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1713902Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1714224Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1714482Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1714615Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1714681Z       423 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1714896Z       424 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.1715210Z     > 425 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1715509Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1715739Z       426 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1715960Z       427 |     // AND: New access token is set in cookie
Selective Tests	Run selective tests	2025-11-16T16:32:16.1716363Z       428 |     const setCookieHeader = response.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1716985Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:425:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1717378Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1717741Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1718447Z     test-results/artifacts/api-jwt-token-system.api-1-49e84-w-access-and-refresh-tokens-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1718916Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1719011Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1719718Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-49e84-w-access-and-refresh-tokens-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1720226Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1720518Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1720739Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1721433Z   11) [api] â€º tests/api/jwt-token-system.api.spec.ts:448:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-002: POST /api/auth/refresh should return 401 for expired refresh token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1721997Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1722395Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1722735Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1722851Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1723089Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1723214Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1723283Z       463 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1723516Z       464 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1724089Z     > 465 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1724380Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1724721Z       466 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1724959Z       467 |     // AND: Error message indicates token expiration
Selective Tests	Run selective tests	2025-11-16T16:32:16.1725291Z       468 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1725848Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:465:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1726245Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1726619Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1727267Z     test-results/artifacts/api-jwt-token-system.api-1-0e4de-1-for-expired-refresh-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1727714Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1727810Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1728258Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-0e4de-1-for-expired-refresh-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1728741Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1729023Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1729256Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1729567Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1729793Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1730198Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1730537Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1730654Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1730896Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1731023Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1731088Z       463 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1731309Z       464 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1731620Z     > 465 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1731903Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1732117Z       466 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1732362Z       467 |     // AND: Error message indicates token expiration
Selective Tests	Run selective tests	2025-11-16T16:32:16.1732705Z       468 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1733274Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:465:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1733671Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1734132Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1734812Z     test-results/artifacts/api-jwt-token-system.api-1-0e4de-1-for-expired-refresh-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1735285Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1735385Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1735861Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-0e4de-1-for-expired-refresh-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1736361Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1736647Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1736866Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1737296Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1737524Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1738084Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1738425Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1738542Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1738775Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1738908Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1738972Z       463 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1739196Z       464 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1739509Z     > 465 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1739789Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1740001Z       466 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1740249Z       467 |     // AND: Error message indicates token expiration
Selective Tests	Run selective tests	2025-11-16T16:32:16.1740577Z       468 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1741129Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:465:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1741530Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1741889Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1742564Z     test-results/artifacts/api-jwt-token-system.api-1-0e4de-1-for-expired-refresh-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1743043Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1743139Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1743615Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-0e4de-1-for-expired-refresh-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1744217Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1744503Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1744718Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1745409Z   12) [api] â€º tests/api/jwt-token-system.api.spec.ts:473:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-003: POST /api/auth/refresh should return 401 for invalid refresh token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1745972Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1746376Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1746729Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1746843Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1747077Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1747208Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1747274Z       485 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1747490Z       486 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1747804Z     > 487 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1748085Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1748299Z       488 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1748531Z       489 |     // AND: Error message indicates invalid token
Selective Tests	Run selective tests	2025-11-16T16:32:16.1748854Z       490 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1749410Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:487:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1749810Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1750168Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1750811Z     test-results/artifacts/api-jwt-token-system.api-1-52c6b-1-for-invalid-refresh-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1751261Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1751357Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1751801Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-52c6b-1-for-invalid-refresh-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1752272Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1752554Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1752764Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1753061Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1753287Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1753684Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1754262Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1754384Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1754614Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1754864Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1754932Z       485 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1755150Z       486 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1755459Z     > 487 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1755738Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1755951Z       488 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1756191Z       489 |     // AND: Error message indicates invalid token
Selective Tests	Run selective tests	2025-11-16T16:32:16.1756519Z       490 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1757074Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:487:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1757465Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1757825Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1758496Z     test-results/artifacts/api-jwt-token-system.api-1-52c6b-1-for-invalid-refresh-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1758978Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1759073Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1759553Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-52c6b-1-for-invalid-refresh-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1760043Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1760329Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1760544Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1760842Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1761068Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1761467Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1761802Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1761912Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1762140Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1762269Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1762333Z       485 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1762559Z       486 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1762866Z     > 487 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1763153Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1763371Z       488 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1763602Z       489 |     // AND: Error message indicates invalid token
Selective Tests	Run selective tests	2025-11-16T16:32:16.1764019Z       490 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1764578Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:487:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1764970Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1765324Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1766004Z     test-results/artifacts/api-jwt-token-system.api-1-52c6b-1-for-invalid-refresh-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1766479Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1766572Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1767052Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-52c6b-1-for-invalid-refresh-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1767672Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1768072Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1768290Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1769020Z   13) [api] â€º tests/api/jwt-token-system.api.spec.ts:495:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-004: POST /api/auth/refresh should return 401 for missing refresh token cookie 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1769593Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1770009Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1770352Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1770465Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1770697Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1770831Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1770898Z       501 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1771118Z       502 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1771435Z     > 503 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1771710Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1771947Z       504 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1772179Z       505 |     // AND: Error message indicates missing token
Selective Tests	Run selective tests	2025-11-16T16:32:16.1772499Z       506 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1773054Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:503:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1773450Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1773806Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1774560Z     test-results/artifacts/api-jwt-token-system.api-1-2d364-issing-refresh-token-cookie-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1775010Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1775106Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1775556Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-2d364-issing-refresh-token-cookie-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1776031Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1776320Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1776542Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1776840Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1777070Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1777473Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1777812Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1777920Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1778155Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1778285Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1778351Z       501 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1778570Z       502 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1778875Z     > 503 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1779150Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1779370Z       504 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1779747Z       505 |     // AND: Error message indicates missing token
Selective Tests	Run selective tests	2025-11-16T16:32:16.1780070Z       506 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1780734Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:503:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1781133Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1781490Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1782169Z     test-results/artifacts/api-jwt-token-system.api-1-2d364-issing-refresh-token-cookie-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1782650Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1782739Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1783224Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-2d364-issing-refresh-token-cookie-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1783718Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1784112Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1784327Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1784640Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1784871Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1785289Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1785627Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1785736Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1785971Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1786103Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1786167Z       501 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1786384Z       502 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.1786689Z     > 503 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1786961Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1787182Z       504 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1787414Z       505 |     // AND: Error message indicates missing token
Selective Tests	Run selective tests	2025-11-16T16:32:16.1787730Z       506 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1788278Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:503:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1788685Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1789043Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1789722Z     test-results/artifacts/api-jwt-token-system.api-1-2d364-issing-refresh-token-cookie-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1790198Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1790288Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1790770Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-2d364-issing-refresh-token-cookie-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1791263Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1791549Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1791761Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1792492Z   14) [api] â€º tests/api/jwt-token-system.api.spec.ts:511:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-005: Refresh token should be rotated (old token invalidated, new token issued) 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1793200Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1793618Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1794183Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1794298Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1794537Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1794671Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1794734Z       528 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1794947Z       529 |     // THEN: New tokens are issued
Selective Tests	Run selective tests	2025-11-16T16:32:16.1795256Z     > 530 |     expect(response1.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1795535Z           |                                ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1795891Z       531 |     const setCookieHeader1 = response1.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1796298Z       532 |     const cookies1 = Array.isArray(setCookieHeader1)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1796615Z       533 |       ? setCookieHeader1
Selective Tests	Run selective tests	2025-11-16T16:32:16.1797144Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:530:32
Selective Tests	Run selective tests	2025-11-16T16:32:16.1797544Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1797900Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1798545Z     test-results/artifacts/api-jwt-token-system.api-1-57547-validated-new-token-issued--api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1798987Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1799079Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1799526Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-57547-validated-new-token-issued--api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1799989Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1800275Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1800489Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1800786Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1801013Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1801414Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1801762Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1801871Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1802119Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1802251Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1802317Z       528 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1802528Z       529 |     // THEN: New tokens are issued
Selective Tests	Run selective tests	2025-11-16T16:32:16.1802822Z     > 530 |     expect(response1.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1803136Z           |                                ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1803486Z       531 |     const setCookieHeader1 = response1.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1803897Z       532 |     const cookies1 = Array.isArray(setCookieHeader1)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1804310Z       533 |       ? setCookieHeader1
Selective Tests	Run selective tests	2025-11-16T16:32:16.1804845Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:530:32
Selective Tests	Run selective tests	2025-11-16T16:32:16.1805251Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1805614Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1806305Z     test-results/artifacts/api-jwt-token-system.api-1-57547-validated-new-token-issued--api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1806793Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1806885Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1807378Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-57547-validated-new-token-issued--api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1807872Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1808163Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1808388Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1808709Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1808941Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1809343Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1809691Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1809805Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1810188Z     Received: [31m400[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1810324Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1810391Z       528 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1810605Z       529 |     // THEN: New tokens are issued
Selective Tests	Run selective tests	2025-11-16T16:32:16.1811021Z     > 530 |     expect(response1.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1811313Z           |                                ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1811672Z       531 |     const setCookieHeader1 = response1.headers()["set-cookie"];
Selective Tests	Run selective tests	2025-11-16T16:32:16.1812083Z       532 |     const cookies1 = Array.isArray(setCookieHeader1)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1812395Z       533 |       ? setCookieHeader1
Selective Tests	Run selective tests	2025-11-16T16:32:16.1812922Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/jwt-token-system.api.spec.ts:530:32
Selective Tests	Run selective tests	2025-11-16T16:32:16.1813324Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1813684Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1814466Z     test-results/artifacts/api-jwt-token-system.api-1-57547-validated-new-token-issued--api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1814952Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1815045Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1815527Z         npx playwright show-trace test-results/artifacts/api-jwt-token-system.api-1-57547-validated-new-token-issued--api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1816032Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1816325Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1816539Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1817127Z   15) [api] â€º tests/api/rbac-framework.api.spec.ts:17:7 â€º RBAC Framework - Permission Checking â€º [P0] should grant access when user has required permission 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1817609Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1818012Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1818363Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1818473Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1818710Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1818843Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1818919Z       23 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1819138Z       24 |     // THEN: Access is granted (200 OK)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1819437Z     > 25 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1819726Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1819952Z       26 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1820119Z       27 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1820471Z       28 |   test("[P0] should deny access with 403 when user lacks required permission", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1821127Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:25:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1821520Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1821881Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1822536Z     test-results/artifacts/api-rbac-framework.api-RBA-9ef7b-ser-has-required-permission-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1822986Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1823076Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1823532Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-9ef7b-ser-has-required-permission-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1824240Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1824647Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1824871Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1825170Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1825401Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1825801Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1826148Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1826257Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1826495Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1826621Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1826692Z       23 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1826908Z       24 |     // THEN: Access is granted (200 OK)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1827207Z     > 25 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1827488Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1827725Z       26 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1827892Z       27 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1828228Z       28 |   test("[P0] should deny access with 403 when user lacks required permission", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1828891Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:25:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1829285Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1829638Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1830326Z     test-results/artifacts/api-rbac-framework.api-RBA-9ef7b-ser-has-required-permission-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1830812Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1830900Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1831388Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-9ef7b-ser-has-required-permission-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1831894Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1832181Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1832404Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1832696Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1832940Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1833341Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1833687Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1833797Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1834142Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1834269Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1834343Z       23 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1834564Z       24 |     // THEN: Access is granted (200 OK)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1834866Z     > 25 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1835143Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1835366Z       26 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1835534Z       27 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1835942Z       28 |   test("[P0] should deny access with 403 when user lacks required permission", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1837187Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:25:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1837811Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1838213Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1838908Z     test-results/artifacts/api-rbac-framework.api-RBA-9ef7b-ser-has-required-permission-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1839399Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1839494Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1839995Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-9ef7b-ser-has-required-permission-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1840500Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1840786Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1841014Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1841656Z   16) [api] â€º tests/api/rbac-framework.api.spec.ts:28:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny access with 403 when user lacks required permission 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1842186Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1842595Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1842959Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1843071Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1843313Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1843440Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1843514Z       34 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1843745Z       35 |     // THEN: Access is denied with 403 Forbidden
Selective Tests	Run selective tests	2025-11-16T16:32:16.1844567Z     > 36 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1845000Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1845293Z       37 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1845642Z       38 |     expect(body).toHaveProperty("error", "Forbidden");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1845984Z       39 |     expect(body).toHaveProperty("message");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1846541Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:36:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1846950Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1847353Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1848010Z     test-results/artifacts/api-rbac-framework.api-RBA-56ab0-r-lacks-required-permission-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1848469Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1848563Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1849026Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-56ab0-r-lacks-required-permission-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1849505Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1849797Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1850018Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1850319Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1850556Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1850961Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1851483Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1851718Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1851965Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1852094Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1852172Z       34 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1852395Z       35 |     // THEN: Access is denied with 403 Forbidden
Selective Tests	Run selective tests	2025-11-16T16:32:16.1852715Z     > 36 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1853000Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1853286Z       37 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1853628Z       38 |     expect(body).toHaveProperty("error", "Forbidden");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1854214Z       39 |     expect(body).toHaveProperty("message");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1854821Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:36:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1855215Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1855588Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1856284Z     test-results/artifacts/api-rbac-framework.api-RBA-56ab0-r-lacks-required-permission-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1856784Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1856876Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1857367Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-56ab0-r-lacks-required-permission-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1857871Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1858156Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1858377Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1858670Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1858904Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1859315Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1870333Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1870554Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1870849Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1870990Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1871068Z       34 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1871324Z       35 |     // THEN: Access is denied with 403 Forbidden
Selective Tests	Run selective tests	2025-11-16T16:32:16.1871679Z     > 36 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1871973Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1872267Z       37 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.1872624Z       38 |     expect(body).toHaveProperty("error", "Forbidden");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1872973Z       39 |     expect(body).toHaveProperty("message");
Selective Tests	Run selective tests	2025-11-16T16:32:16.1873560Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:36:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1874086Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1874495Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1875201Z     test-results/artifacts/api-rbac-framework.api-RBA-56ab0-r-lacks-required-permission-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1875701Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1875796Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1876288Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-56ab0-r-lacks-required-permission-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1876796Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1877087Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1877317Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1877883Z   17) [api] â€º tests/api/rbac-framework.api.spec.ts:43:7 â€º RBAC Framework - Permission Checking â€º [P0] should check SYSTEM scope permissions correctly 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1878352Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1878766Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1879118Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1879231Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1879476Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1879794Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1879869Z       51 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1880147Z       52 |     // THEN: Access is granted (SYSTEM scope applies everywhere)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1880630Z     > 53 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1880922Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1881148Z       54 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1881317Z       55 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1881611Z       56 |   test("[P0] should check COMPANY scope permissions correctly", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1882238Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:53:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1882629Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1882996Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1883654Z     test-results/artifacts/api-rbac-framework.api-RBA-45eb0-scope-permissions-correctly-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1884231Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1884336Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1884795Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-45eb0-scope-permissions-correctly-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1885281Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1885576Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1885798Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1886093Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1886326Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1886740Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1887098Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1887209Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1887458Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1887587Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1887661Z       51 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1887939Z       52 |     // THEN: Access is granted (SYSTEM scope applies everywhere)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1888302Z     > 53 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1888596Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1888824Z       54 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1888997Z       55 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1889294Z       56 |   test("[P0] should check COMPANY scope permissions correctly", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1889924Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:53:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1890319Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1890675Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1891363Z     test-results/artifacts/api-rbac-framework.api-RBA-45eb0-scope-permissions-correctly-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1891847Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1891945Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1892425Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-45eb0-scope-permissions-correctly-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1893092Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1893381Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1893711Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1894112Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1894345Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1894748Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1895097Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1895207Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1895446Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1895573Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1895643Z       51 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1895914Z       52 |     // THEN: Access is granted (SYSTEM scope applies everywhere)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1896270Z     > 53 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1896553Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1896776Z       54 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1896936Z       55 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1897243Z       56 |   test("[P0] should check COMPANY scope permissions correctly", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1897862Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:53:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1898254Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1898614Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1899296Z     test-results/artifacts/api-rbac-framework.api-RBA-45eb0-scope-permissions-correctly-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1899768Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1899860Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1900338Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-45eb0-scope-permissions-correctly-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1900844Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1901127Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1901346Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1901917Z   18) [api] â€º tests/api/rbac-framework.api.spec.ts:56:7 â€º RBAC Framework - Permission Checking â€º [P0] should check COMPANY scope permissions correctly 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1902404Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1902807Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1903186Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1903300Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1903536Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1903660Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1903727Z       64 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1904015Z       65 |     // THEN: Access is granted
Selective Tests	Run selective tests	2025-11-16T16:32:16.1904309Z     > 66 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1904581Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1904797Z       67 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1904954Z       68 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1905263Z       69 |   test("[P0] should deny COMPANY scope access to different company", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1905889Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:66:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1906403Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1906774Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1907526Z     test-results/artifacts/api-rbac-framework.api-RBA-b9636-scope-permissions-correctly-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1907970Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1908065Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1908509Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-b9636-scope-permissions-correctly-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1908980Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1909264Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1909483Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1909773Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1910005Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1910399Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1910749Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1910861Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1911107Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1911231Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1911296Z       64 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1911492Z       65 |     // THEN: Access is granted
Selective Tests	Run selective tests	2025-11-16T16:32:16.1911782Z     > 66 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1912057Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1912271Z       67 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1912435Z       68 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1912743Z       69 |   test("[P0] should deny COMPANY scope access to different company", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1913366Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:66:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1913777Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1914250Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1914946Z     test-results/artifacts/api-rbac-framework.api-RBA-b9636-scope-permissions-correctly-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1915430Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1915525Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1916001Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-b9636-scope-permissions-correctly-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1916504Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1916790Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1917012Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1917306Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1917531Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1917934Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1918271Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1918382Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1918621Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1918878Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1918946Z       64 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1919143Z       65 |     // THEN: Access is granted
Selective Tests	Run selective tests	2025-11-16T16:32:16.1919542Z     > 66 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1919816Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1920028Z       67 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1920195Z       68 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1920514Z       69 |   test("[P0] should deny COMPANY scope access to different company", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1921138Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:66:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1921520Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1921882Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1922553Z     test-results/artifacts/api-rbac-framework.api-RBA-b9636-scope-permissions-correctly-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1923031Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1923131Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1923612Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-b9636-scope-permissions-correctly-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1924231Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1924518Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1924731Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1925326Z   19) [api] â€º tests/api/rbac-framework.api.spec.ts:69:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny COMPANY scope access to different company 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1925814Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1926230Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1926569Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1926683Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1926934Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1927066Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1927130Z       77 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1927353Z       78 |     // THEN: Access is denied with 403 Forbidden
Selective Tests	Run selective tests	2025-11-16T16:32:16.1927681Z     > 79 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1928007Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1928235Z       80 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1928401Z       81 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1928696Z       82 |   test("[P0] should check STORE scope permissions correctly", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1929310Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:79:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1929692Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1930052Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1930691Z     test-results/artifacts/api-rbac-framework.api-RBA-b0e29-access-to-different-company-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1931136Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1931228Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1931671Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-b0e29-access-to-different-company-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1932149Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1932431Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1932649Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1932942Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1933172Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1933580Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1934019Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1934138Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1934369Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1934500Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1934567Z       77 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1934790Z       78 |     // THEN: Access is denied with 403 Forbidden
Selective Tests	Run selective tests	2025-11-16T16:32:16.1935103Z     > 79 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1935370Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1935588Z       80 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1935886Z       81 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1936182Z       82 |   test("[P0] should check STORE scope permissions correctly", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1936904Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:79:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1937285Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1937643Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1938324Z     test-results/artifacts/api-rbac-framework.api-RBA-b0e29-access-to-different-company-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1938807Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1938903Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1939389Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-b0e29-access-to-different-company-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1939891Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1940182Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1940392Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1940701Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1940928Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1941349Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1941687Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1941803Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1942035Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1942170Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1942235Z       77 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1942453Z       78 |     // THEN: Access is denied with 403 Forbidden
Selective Tests	Run selective tests	2025-11-16T16:32:16.1942766Z     > 79 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1943037Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1943257Z       80 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1943422Z       81 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1943708Z       82 |   test("[P0] should check STORE scope permissions correctly", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1944414Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:79:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1944818Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1945177Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1945861Z     test-results/artifacts/api-rbac-framework.api-RBA-b0e29-access-to-different-company-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1946348Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1946437Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1946925Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-b0e29-access-to-different-company-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1947427Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1947708Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1947928Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1948493Z   20) [api] â€º tests/api/rbac-framework.api.spec.ts:82:7 â€º RBAC Framework - Permission Checking â€º [P0] should check STORE scope permissions correctly 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1948967Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1949505Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1949854Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1950075Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1950318Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1950444Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1950516Z       90 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1950706Z       91 |     // THEN: Access is granted
Selective Tests	Run selective tests	2025-11-16T16:32:16.1950998Z     > 92 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1951278Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1951497Z       93 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1951659Z       94 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1951953Z       95 |   test("[P0] should deny STORE scope access to different store", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1952570Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:92:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1952960Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1953316Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1954069Z     test-results/artifacts/api-rbac-framework.api-RBA-2104b-scope-permissions-correctly-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1954527Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1954615Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1955063Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-2104b-scope-permissions-correctly-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1955534Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1955818Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1956036Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1956328Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1956558Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1956956Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1957302Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1957408Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1957659Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1957784Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1957850Z       90 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1958035Z       91 |     // THEN: Access is granted
Selective Tests	Run selective tests	2025-11-16T16:32:16.1958330Z     > 92 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1958603Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1958819Z       93 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1958979Z       94 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1959276Z       95 |   test("[P0] should deny STORE scope access to different store", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1959885Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:92:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1960268Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1960622Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1961298Z     test-results/artifacts/api-rbac-framework.api-RBA-2104b-scope-permissions-correctly-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1961777Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1961996Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1962478Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-2104b-scope-permissions-correctly-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1963156Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1963442Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1963662Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1964053Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1964290Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1964687Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1965030Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1965137Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1965370Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1965495Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1965557Z       90 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1965757Z       91 |     // THEN: Access is granted
Selective Tests	Run selective tests	2025-11-16T16:32:16.1966042Z     > 92 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1966333Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1966549Z       93 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1966721Z       94 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1967016Z       95 |   test("[P0] should deny STORE scope access to different store", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1967628Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:92:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1968015Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1968373Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1969055Z     test-results/artifacts/api-rbac-framework.api-RBA-2104b-scope-permissions-correctly-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1969530Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1969625Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1970105Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-2104b-scope-permissions-correctly-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1970608Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1970896Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1971113Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1971675Z   21) [api] â€º tests/api/rbac-framework.api.spec.ts:95:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny STORE scope access to different store 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1972146Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1972553Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1972888Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1973017Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1973251Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1973258Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1973327Z       103 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1973516Z       104 |     // THEN: Access is denied with 403 Forbidden
Selective Tests	Run selective tests	2025-11-16T16:32:16.1973652Z     > 105 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1973778Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1973852Z       106 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1974171Z       107 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1974406Z       108 |   test("[P0] should inherit COMPANY permissions to STORE scope", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1974882Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:105:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1974890Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1975259Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1975610Z     test-results/artifacts/api-rbac-framework.api-RBA-9c315-e-access-to-different-store-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1975682Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1975689Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1976136Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-9c315-e-access-to-different-store-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1976143Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1976427Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1976435Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1976733Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1976741Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977153Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977160Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977266Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977381Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977389Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977452Z       103 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977601Z       104 |     // THEN: Access is denied with 403 Forbidden
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977731Z     > 105 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977839Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977909Z       106 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1977973Z       107 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1978199Z       108 |   test("[P0] should inherit COMPANY permissions to STORE scope", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1978566Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:105:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1978587Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1978933Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1979323Z     test-results/artifacts/api-rbac-framework.api-RBA-9c315-e-access-to-different-store-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1979395Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1979402Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1979878Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-9c315-e-access-to-different-store-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1979890Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1980167Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1980175Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1980469Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1980478Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1980871Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1980988Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1981103Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1981295Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1981302Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1981365Z       103 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1981513Z       104 |     // THEN: Access is denied with 403 Forbidden
Selective Tests	Run selective tests	2025-11-16T16:32:16.1981644Z     > 105 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1981754Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1981822Z       106 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1981891Z       107 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1982110Z       108 |   test("[P0] should inherit COMPANY permissions to STORE scope", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1982475Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:105:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1982483Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1982833Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1983232Z     test-results/artifacts/api-rbac-framework.api-RBA-9c315-e-access-to-different-store-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1983305Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1983312Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1983794Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-9c315-e-access-to-different-store-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1983801Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1984189Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1984198Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1984773Z   22) [api] â€º tests/api/rbac-framework.api.spec.ts:108:7 â€º RBAC Framework - Permission Checking â€º [P0] should inherit COMPANY permissions to STORE scope 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1984782Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1985177Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1985185Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1985306Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1985411Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1985419Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1985486Z       116 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1985686Z       117 |     // THEN: Access is granted (COMPANY scope applies to stores)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1985819Z     > 118 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1985918Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1985985Z       119 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1986055Z       120 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1986277Z       121 |   test("[P0] should handle multiple roles with different scopes", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1986645Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:118:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1986652Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1986999Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1987355Z     test-results/artifacts/api-rbac-framework.api-RBA-82a14--permissions-to-STORE-scope-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1987428Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1987436Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1987883Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-82a14--permissions-to-STORE-scope-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1987898Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1988175Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1988189Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1988477Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1988485Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1988875Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1988888Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1988992Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1989099Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1989112Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1989176Z       116 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1989362Z       117 |     // THEN: Access is granted (COMPANY scope applies to stores)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1989627Z     > 118 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1989841Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1989916Z       119 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1989983Z       120 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1990208Z       121 |   test("[P0] should handle multiple roles with different scopes", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1990573Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:118:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1990581Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1990939Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1991323Z     test-results/artifacts/api-rbac-framework.api-RBA-82a14--permissions-to-STORE-scope-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1991395Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1991402Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1991883Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-82a14--permissions-to-STORE-scope-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1991897Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1992181Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1992195Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1992483Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1992491Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1992885Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1992892Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1992996Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1993106Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1993113Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1993175Z       116 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1993364Z       117 |     // THEN: Access is granted (COMPANY scope applies to stores)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1993493Z     > 118 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1993592Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1993675Z       119 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1993740Z       120 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1994135Z       121 |   test("[P0] should handle multiple roles with different scopes", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.1994511Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:118:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1994518Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1994874Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1995256Z     test-results/artifacts/api-rbac-framework.api-RBA-82a14--permissions-to-STORE-scope-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1995330Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1995337Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1995811Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-82a14--permissions-to-STORE-scope-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1995818Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1996102Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1996232Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1996804Z   23) [api] â€º tests/api/rbac-framework.api.spec.ts:121:7 â€º RBAC Framework - Permission Checking â€º [P0] should handle multiple roles with different scopes 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1996924Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1997328Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1997335Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1997439Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1997572Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.1997579Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1997644Z       129 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1997855Z       130 |     // THEN: Access is granted (user has permission from either role)
Selective Tests	Run selective tests	2025-11-16T16:32:16.1997983Z     > 131 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.1998090Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.1998157Z       132 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1998230Z       133 | });
Selective Tests	Run selective tests	2025-11-16T16:32:16.1998303Z       134 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.1998668Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:131:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.1998685Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1999040Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.1999387Z     test-results/artifacts/api-rbac-framework.api-RBA-e257d-roles-with-different-scopes-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1999459Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.1999466Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.1999919Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-e257d-roles-with-different-scopes-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.1999932Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2000209Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2000217Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2000504Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2000546Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2000936Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2000955Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2001064Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2001168Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2001175Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2001239Z       129 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2001446Z       130 |     // THEN: Access is granted (user has permission from either role)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2001575Z     > 131 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2001682Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2001750Z       132 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2001821Z       133 | });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2001886Z       134 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2002254Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:131:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2002262Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2002605Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2003155Z     test-results/artifacts/api-rbac-framework.api-RBA-e257d-roles-with-different-scopes-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2003300Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2003307Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2003792Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-e257d-roles-with-different-scopes-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2003799Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2004187Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2004196Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2004493Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2004502Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2004891Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2004898Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2005020Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2005125Z     Received: [31m404[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2005133Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2005200Z       129 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2005409Z       130 |     // THEN: Access is granted (user has permission from either role)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2005541Z     > 131 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2005642Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2005711Z       132 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2005863Z       133 | });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2005932Z       134 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2006300Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:131:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2006307Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2006657Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2007047Z     test-results/artifacts/api-rbac-framework.api-RBA-e257d-roles-with-different-scopes-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2007120Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2007126Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2007614Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-e257d-roles-with-different-scopes-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2007628Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2007904Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2007911Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2008521Z   24) [api] â€º tests/api/rbac-framework.api.spec.ts:136:7 â€º RBAC Framework - Permission Middleware â€º [P0] should validate permission before route handler executes 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2008531Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2008925Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2008939Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2009048Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2009155Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2009162Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2009233Z       143 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2009433Z       144 |     // THEN: Middleware rejects request with 403 before handler runs
Selective Tests	Run selective tests	2025-11-16T16:32:16.2009578Z     > 145 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2009684Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2009820Z       146 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2009988Z       147 |     expect(body).toHaveProperty("error", "Forbidden");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2010063Z       148 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2010425Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:145:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2010433Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2010784Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2011131Z     test-results/artifacts/api-rbac-framework.api-RBA-8e82f-fore-route-handler-executes-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2011199Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2011212Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2011658Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-8e82f-fore-route-handler-executes-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2011792Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2012180Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2012188Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2012487Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2012495Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2012897Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2012904Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2013012Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2013124Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2013131Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2013195Z       143 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2013404Z       144 |     // THEN: Middleware rejects request with 403 before handler runs
Selective Tests	Run selective tests	2025-11-16T16:32:16.2013542Z     > 145 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2013653Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2013788Z       146 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2014174Z       147 |     expect(body).toHaveProperty("error", "Forbidden");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2014276Z       148 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2014652Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:145:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2014659Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2015033Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2015423Z     test-results/artifacts/api-rbac-framework.api-RBA-8e82f-fore-route-handler-executes-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2015499Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2015506Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2015992Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-8e82f-fore-route-handler-executes-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2015999Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2016302Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2016310Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2016611Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2016620Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2017025Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2017033Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2017148Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2017261Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2017268Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2017336Z       143 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2017546Z       144 |     // THEN: Middleware rejects request with 403 before handler runs
Selective Tests	Run selective tests	2025-11-16T16:32:16.2017677Z     > 145 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2017789Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2017917Z       146 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2018229Z       147 |     expect(body).toHaveProperty("error", "Forbidden");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2018305Z       148 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2018669Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:145:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2018787Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2019143Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2019528Z     test-results/artifacts/api-rbac-framework.api-RBA-8e82f-fore-route-handler-executes-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2019602Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2019609Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2020091Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-8e82f-fore-route-handler-executes-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2020104Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2020386Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2020394Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2020961Z   25) [api] â€º tests/api/rbac-framework.api.spec.ts:150:7 â€º RBAC Framework - Permission Middleware â€º [P0] should allow authorized requests to proceed 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2020980Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2021374Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2021381Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2021492Z     Expected: [32m201[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2021597Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2021604Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2021674Z       157 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2021859Z       158 |     // THEN: Request proceeds and user is created (201 Created)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2021987Z     > 159 |     expect(response.status()).toBe(201);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2022095Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2022164Z       160 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2022234Z       161 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2022438Z       162 |   test("[P0] should return 401 when access token is missing", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.2022813Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:159:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2022825Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2023173Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2023527Z     test-results/artifacts/api-rbac-framework.api-RBA-67c6d-horized-requests-to-proceed-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2023596Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2023603Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2024592Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-67c6d-horized-requests-to-proceed-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2024605Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2024909Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2024918Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2025219Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2025228Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2025821Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2025935Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2026055Z     Expected: [32m201[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2026170Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2026176Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2026247Z       157 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2026436Z       158 |     // THEN: Request proceeds and user is created (201 Created)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2026569Z     > 159 |     expect(response.status()).toBe(201);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2026677Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2026750Z       160 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2026822Z       161 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2027028Z       162 |   test("[P0] should return 401 when access token is missing", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.2027398Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:159:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2027406Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2027756Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2028155Z     test-results/artifacts/api-rbac-framework.api-RBA-67c6d-horized-requests-to-proceed-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2028232Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2028239Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2028729Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-67c6d-horized-requests-to-proceed-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2028736Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2029015Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2029023Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2029318Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2029326Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2029722Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2029730Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2029854Z     Expected: [32m201[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2029960Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2029967Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2030035Z       157 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2030226Z       158 |     // THEN: Request proceeds and user is created (201 Created)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2030362Z     > 159 |     expect(response.status()).toBe(201);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2030462Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2030530Z       160 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2030601Z       161 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2030806Z       162 |   test("[P0] should return 401 when access token is missing", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.2031174Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:159:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2031182Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2031529Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2031921Z     test-results/artifacts/api-rbac-framework.api-RBA-67c6d-horized-requests-to-proceed-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2032078Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2032085Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2032570Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-67c6d-horized-requests-to-proceed-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2032651Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2032933Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2032940Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2033455Z   26) [api] â€º tests/api/rbac-framework.api.spec.ts:206:7 â€º RBAC Framework - Audit Logging â€º [P0] should log permission denial to AuditLog 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2033464Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2033860Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2033872Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2034104Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2034214Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2034221Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2034375Z       211 |     // WHEN: Permission is denied (403 Forbidden)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2034660Z       212 |     const response = await authenticatedApiRequest.delete("/api/users/test-id");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2034800Z     > 213 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2034905Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2034970Z       214 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2035236Z       215 |     // THEN: AuditLog entry is created with user_id, permission code, resource, timestamp
Selective Tests	Run selective tests	2025-11-16T16:32:16.2035480Z       216 |     // Note: This test will fail until AuditLog model and logging are implemented
Selective Tests	Run selective tests	2025-11-16T16:32:16.2035842Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:213:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2035856Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2036204Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2036552Z     test-results/artifacts/api-rbac-framework.api-RBA-bf87d-rmission-denial-to-AuditLog-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2036635Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2036642Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2037089Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-bf87d-rmission-denial-to-AuditLog-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2037107Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2037385Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2037393Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2037684Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2037693Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2038088Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2038096Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2038205Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2038313Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2038320Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2038466Z       211 |     // WHEN: Permission is denied (403 Forbidden)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2038737Z       212 |     const response = await authenticatedApiRequest.delete("/api/users/test-id");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2038880Z     > 213 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2038985Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2039049Z       214 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2039314Z       215 |     // THEN: AuditLog entry is created with user_id, permission code, resource, timestamp
Selective Tests	Run selective tests	2025-11-16T16:32:16.2039542Z       216 |     // Note: This test will fail until AuditLog model and logging are implemented
Selective Tests	Run selective tests	2025-11-16T16:32:16.2039907Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:213:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2039914Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2040259Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2040651Z     test-results/artifacts/api-rbac-framework.api-RBA-bf87d-rmission-denial-to-AuditLog-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2040842Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2040850Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2041332Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-bf87d-rmission-denial-to-AuditLog-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2041441Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2041790Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2041797Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2042095Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2042103Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2042490Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2042503Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2042608Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2042713Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2042720Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2042863Z       211 |     // WHEN: Permission is denied (403 Forbidden)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2043131Z       212 |     const response = await authenticatedApiRequest.delete("/api/users/test-id");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2043262Z     > 213 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2043371Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2043442Z       214 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2043705Z       215 |     // THEN: AuditLog entry is created with user_id, permission code, resource, timestamp
Selective Tests	Run selective tests	2025-11-16T16:32:16.2044042Z       216 |     // Note: This test will fail until AuditLog model and logging are implemented
Selective Tests	Run selective tests	2025-11-16T16:32:16.2044408Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:213:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2044416Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2044771Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2045158Z     test-results/artifacts/api-rbac-framework.api-RBA-bf87d-rmission-denial-to-AuditLog-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2045237Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2045244Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2045725Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-bf87d-rmission-denial-to-AuditLog-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2045739Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2046024Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2046032Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2046570Z   27) [api] â€º tests/api/rbac-framework.api.spec.ts:232:7 â€º RBAC Framework - Audit Logging â€º [P0] should include correct permission code in audit log 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2046579Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2047083Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2047097Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2047273Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2047456Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2047469Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2047661Z       237 |     // WHEN: Permission is denied
Selective Tests	Run selective tests	2025-11-16T16:32:16.2048377Z       238 |     const response = await authenticatedApiRequest.delete("/api/users/test-id");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2048613Z     > 239 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2048949Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2049064Z       240 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2049385Z       241 |     // THEN: Audit log contains permission code 'USER_DELETE'
Selective Tests	Run selective tests	2025-11-16T16:32:16.2049736Z       242 |     const auditLogs = await prismaClient.$queryRaw`
Selective Tests	Run selective tests	2025-11-16T16:32:16.2050304Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:239:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2050316Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2050704Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2051056Z     test-results/artifacts/api-rbac-framework.api-RBA-79f37-ermission-code-in-audit-log-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2051131Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2051138Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2051598Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-79f37-ermission-code-in-audit-log-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2051612Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2051900Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2051907Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2052197Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2052212Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2052607Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2052615Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2052728Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2052833Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2052840Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2052957Z       237 |     // WHEN: Permission is denied
Selective Tests	Run selective tests	2025-11-16T16:32:16.2053224Z       238 |     const response = await authenticatedApiRequest.delete("/api/users/test-id");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2053365Z     > 239 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2053475Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2053553Z       240 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2053735Z       241 |     // THEN: Audit log contains permission code 'USER_DELETE'
Selective Tests	Run selective tests	2025-11-16T16:32:16.2053893Z       242 |     const auditLogs = await prismaClient.$queryRaw`
Selective Tests	Run selective tests	2025-11-16T16:32:16.2054393Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:239:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2054401Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2054754Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2055143Z     test-results/artifacts/api-rbac-framework.api-RBA-79f37-ermission-code-in-audit-log-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2055210Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2055217Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2055702Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-79f37-ermission-code-in-audit-log-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2055851Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2056138Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2056251Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2056551Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2056560Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2056957Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2056964Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2057076Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2057182Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2057189Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2057305Z       237 |     // WHEN: Permission is denied
Selective Tests	Run selective tests	2025-11-16T16:32:16.2057562Z       238 |     const response = await authenticatedApiRequest.delete("/api/users/test-id");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2057694Z     > 239 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2057803Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2057867Z       240 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2058044Z       241 |     // THEN: Audit log contains permission code 'USER_DELETE'
Selective Tests	Run selective tests	2025-11-16T16:32:16.2058210Z       242 |     const auditLogs = await prismaClient.$queryRaw`
Selective Tests	Run selective tests	2025-11-16T16:32:16.2058577Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:239:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2058585Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2058934Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2059324Z     test-results/artifacts/api-rbac-framework.api-RBA-79f37-ermission-code-in-audit-log-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2059391Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2059398Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2059875Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-79f37-ermission-code-in-audit-log-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2059883Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2060166Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2060180Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2060707Z   28) [api] â€º tests/api/rbac-framework.api.spec.ts:253:7 â€º RBAC Framework - Audit Logging â€º [P0] should include resource path in audit log 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2060716Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2061115Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2061122Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2061230Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2061337Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2061349Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2061462Z       260 |       "/api/users/user-123",
Selective Tests	Run selective tests	2025-11-16T16:32:16.2061533Z       261 |     );
Selective Tests	Run selective tests	2025-11-16T16:32:16.2061672Z     > 262 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2061771Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2061842Z       263 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2062045Z       264 |     // THEN: Audit log contains resource path '/api/users/user-123'
Selective Tests	Run selective tests	2025-11-16T16:32:16.2062215Z       265 |     const auditLogs = await prismaClient.$queryRaw`
Selective Tests	Run selective tests	2025-11-16T16:32:16.2062587Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:262:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2062595Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2062952Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2063304Z     test-results/artifacts/api-rbac-framework.api-RBA-7c24f--resource-path-in-audit-log-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2063379Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2063386Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2063833Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-7c24f--resource-path-in-audit-log-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2063842Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2064243Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2064252Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2064675Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2064685Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2065192Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2065200Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2065307Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2065419Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2065425Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2065529Z       260 |       "/api/users/user-123",
Selective Tests	Run selective tests	2025-11-16T16:32:16.2065605Z       261 |     );
Selective Tests	Run selective tests	2025-11-16T16:32:16.2065735Z     > 262 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2065832Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2065906Z       263 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2066103Z       264 |     // THEN: Audit log contains resource path '/api/users/user-123'
Selective Tests	Run selective tests	2025-11-16T16:32:16.2066264Z       265 |     const auditLogs = await prismaClient.$queryRaw`
Selective Tests	Run selective tests	2025-11-16T16:32:16.2066630Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:262:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2066646Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2067003Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2067392Z     test-results/artifacts/api-rbac-framework.api-RBA-7c24f--resource-path-in-audit-log-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2067466Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2067473Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2067952Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-7c24f--resource-path-in-audit-log-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2067959Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2068243Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2068251Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2068541Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2068555Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2068961Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2068969Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2069088Z     Expected: [32m403[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2069199Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2069206Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2069309Z       260 |       "/api/users/user-123",
Selective Tests	Run selective tests	2025-11-16T16:32:16.2069386Z       261 |     );
Selective Tests	Run selective tests	2025-11-16T16:32:16.2069516Z     > 262 |     expect(response.status()).toBe(403);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2069623Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2069687Z       263 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2069886Z       264 |     // THEN: Audit log contains resource path '/api/users/user-123'
Selective Tests	Run selective tests	2025-11-16T16:32:16.2070039Z       265 |     const auditLogs = await prismaClient.$queryRaw`
Selective Tests	Run selective tests	2025-11-16T16:32:16.2070405Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/rbac-framework.api.spec.ts:262:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2070418Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2070857Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2071248Z     test-results/artifacts/api-rbac-framework.api-RBA-7c24f--resource-path-in-audit-log-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2071410Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2071417Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2071891Z         npx playwright show-trace test-results/artifacts/api-rbac-framework.api-RBA-7c24f--resource-path-in-audit-log-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2071906Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2072186Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2072193Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2072995Z   29) [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:29:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-001: GET /api/auth/callback should validate Supabase token and return user identity 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2073005Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2073395Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2073414Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2073525Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2073640Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2073647Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2073717Z       46 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2073829Z       47 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.2074069Z     > 48 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2074171Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2074237Z       49 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2074373Z       50 |     // AND: Response contains user identity
Selective Tests	Run selective tests	2025-11-16T16:32:16.2074500Z       51 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2074922Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:48:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2074930Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2075277Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2075649Z     test-results/artifacts/api-supabase-oauth-integra-dc31b-en-and-return-user-identity-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2075725Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2075731Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2076196Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-dc31b-en-and-return-user-identity-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2076203Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2076482Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2076490Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2076784Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2076792Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2077187Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2077200Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2077307Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2077415Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2077552Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2077627Z       46 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2077739Z       47 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.2077870Z     > 48 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2078078Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2078152Z       49 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2078281Z       50 |     // AND: Response contains user identity
Selective Tests	Run selective tests	2025-11-16T16:32:16.2078408Z       51 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2078834Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:48:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2078842Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2079191Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2079591Z     test-results/artifacts/api-supabase-oauth-integra-dc31b-en-and-return-user-identity-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2079659Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2079671Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2080164Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-dc31b-en-and-return-user-identity-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2080178Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2080455Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2080469Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2080758Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2080766Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2081162Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2081170Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2081274Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2081387Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2081394Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2081458Z       46 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2081566Z       47 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.2081694Z     > 48 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2081803Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2081878Z       49 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2082004Z       50 |     // AND: Response contains user identity
Selective Tests	Run selective tests	2025-11-16T16:32:16.2082143Z       51 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2082556Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:48:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2082563Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2082913Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2083305Z     test-results/artifacts/api-supabase-oauth-integra-dc31b-en-and-return-user-identity-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2083380Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2083387Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2083871Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-dc31b-en-and-return-user-identity-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2083879Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2084445Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2084454Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2085287Z   30) [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:66:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-002: GET /api/auth/callback should create new user if not exists 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2085298Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2085697Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2085705Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2085810Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2085923Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2085930Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2085993Z       81 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2086114Z       82 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.2086246Z     > 83 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2086348Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2086413Z       84 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2086539Z       85 |     // AND: User is created in database
Selective Tests	Run selective tests	2025-11-16T16:32:16.2086666Z       86 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2087083Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:83:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2087091Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2087449Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2087811Z     test-results/artifacts/api-supabase-oauth-integra-7e5a3-eate-new-user-if-not-exists-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2087885Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2087892Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2088348Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-7e5a3-eate-new-user-if-not-exists-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2088356Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2088647Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2088654Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2088956Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2088970Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2089380Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2089388Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2089504Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2089610Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2089616Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2089682Z       81 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2089803Z       82 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.2089931Z     > 83 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2090035Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2090100Z       84 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2090228Z       85 |     // AND: User is created in database
Selective Tests	Run selective tests	2025-11-16T16:32:16.2090350Z       86 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2090772Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:83:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2090787Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2091135Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2091533Z     test-results/artifacts/api-supabase-oauth-integra-7e5a3-eate-new-user-if-not-exists-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2091600Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2091607Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2092100Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-7e5a3-eate-new-user-if-not-exists-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2092107Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2092386Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2092393Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2092690Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2092699Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2093090Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2093212Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2093328Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2093524Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2093531Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2093602Z       81 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2093712Z       82 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.2093835Z     > 83 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2094039Z          |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2094107Z       84 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2094232Z       85 |     // AND: User is created in database
Selective Tests	Run selective tests	2025-11-16T16:32:16.2094352Z       86 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2094774Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:83:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2094782Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2095131Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2095532Z     test-results/artifacts/api-supabase-oauth-integra-7e5a3-eate-new-user-if-not-exists-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2095606Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2095613Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2096107Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-7e5a3-eate-new-user-if-not-exists-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2096115Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2096395Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2096404Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2097177Z   31) [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:105:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-003: GET /api/auth/callback should retrieve existing user if already exists 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2097186Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2097578Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2097601Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2097707Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2097813Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2097820Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2097898Z       127 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2098012Z       128 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.2098150Z     > 129 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2098252Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2098323Z       130 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2098485Z       131 |     // AND: Existing user is returned (not duplicated)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2098610Z       132 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2099035Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:129:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2099042Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2099395Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2099754Z     test-results/artifacts/api-supabase-oauth-integra-e3d0c-ting-user-if-already-exists-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2099954Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2099966Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2100547Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-e3d0c-ting-user-if-already-exists-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2100554Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2100843Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2100851Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2101140Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2101149Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2101552Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2101559Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2101669Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2101787Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2101794Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2101859Z       127 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2101986Z       128 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.2102127Z     > 129 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2102237Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2102308Z       130 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2102472Z       131 |     // AND: Existing user is returned (not duplicated)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2102608Z       132 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2103078Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:129:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2103087Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2103452Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2103861Z     test-results/artifacts/api-supabase-oauth-integra-e3d0c-ting-user-if-already-exists-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2104032Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2104041Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2104535Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-e3d0c-ting-user-if-already-exists-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2104550Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2104846Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2104854Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2105147Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2105155Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2105558Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2105566Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2105674Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2105787Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2105793Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2105856Z       127 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2105974Z       128 |     // THEN: Response is 200 OK
Selective Tests	Run selective tests	2025-11-16T16:32:16.2106106Z     > 129 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2106211Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2106405Z       130 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2106565Z       131 |     // AND: Existing user is returned (not duplicated)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2106812Z       132 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2107238Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:129:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2107245Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2107601Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2107998Z     test-results/artifacts/api-supabase-oauth-integra-e3d0c-ting-user-if-already-exists-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2108076Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2108083Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2108573Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-e3d0c-ting-user-if-already-exists-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2108580Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2108865Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2108880Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2109615Z   32) [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:151:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-004: GET /api/auth/callback should return 401 for invalid OAuth code 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2109640Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110036Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110043Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110155Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110259Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110266Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110330Z       162 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110467Z       163 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110595Z     > 164 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110701Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110766Z       165 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2110955Z       166 |     // AND: Error message indicates authentication failure
Selective Tests	Run selective tests	2025-11-16T16:32:16.2111082Z       167 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2111514Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:164:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2111521Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2111869Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2112233Z     test-results/artifacts/api-supabase-oauth-integra-baaf1--401-for-invalid-OAuth-code-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2112301Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2112308Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2112769Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-baaf1--401-for-invalid-OAuth-code-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2112777Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2113053Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2113150Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2113447Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2113535Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114028Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114037Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114152Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114260Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114267Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114336Z       162 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114463Z       163 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114595Z     > 164 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114693Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114757Z       165 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2114933Z       166 |     // AND: Error message indicates authentication failure
Selective Tests	Run selective tests	2025-11-16T16:32:16.2115058Z       167 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2115491Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:164:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2115504Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2115851Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2116244Z     test-results/artifacts/api-supabase-oauth-integra-baaf1--401-for-invalid-OAuth-code-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2116309Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2116316Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2116803Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-baaf1--401-for-invalid-OAuth-code-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2116810Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2117091Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2117105Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2117393Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2117401Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2117803Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2117827Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2117935Z     Expected: [32m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2118040Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2118054Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2118117Z       162 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2118244Z       163 |     // THEN: Response is 401 Unauthorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.2118378Z     > 164 |     expect(response.status()).toBe(401);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2118475Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2118551Z       165 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2118718Z       166 |     // AND: Error message indicates authentication failure
Selective Tests	Run selective tests	2025-11-16T16:32:16.2118850Z       167 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2119268Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:164:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2119276Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2119642Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2120030Z     test-results/artifacts/api-supabase-oauth-integra-baaf1--401-for-invalid-OAuth-code-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2120112Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2120118Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2120597Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-baaf1--401-for-invalid-OAuth-code-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2120604Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2120889Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2120897Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2121549Z   33) [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:280:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-001: should validate valid Supabase token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2121559Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2121958Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2122094Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2122204Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2122444Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2122451Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2122514Z       296 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2122642Z       297 |     // THEN: Request is authorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.2122771Z     > 298 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2122870Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2122940Z       299 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2123089Z       300 |     // AND: User identity is available in request
Selective Tests	Run selective tests	2025-11-16T16:32:16.2123220Z       301 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2123639Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:298:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2123647Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2124111Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2124482Z     test-results/artifacts/api-supabase-oauth-integra-68949-lidate-valid-Supabase-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2124565Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2124572Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2125026Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-68949-lidate-valid-Supabase-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2125034Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2125324Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2125331Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2125620Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2125628Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126025Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126033Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126137Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126250Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126268Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126332Z       296 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126454Z       297 |     // THEN: Request is authorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126579Z     > 298 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126693Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126758Z       299 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2126910Z       300 |     // AND: User identity is available in request
Selective Tests	Run selective tests	2025-11-16T16:32:16.2127037Z       301 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2127455Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:298:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2127467Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2127815Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2128210Z     test-results/artifacts/api-supabase-oauth-integra-68949-lidate-valid-Supabase-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2128284Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2128291Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2128911Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-68949-lidate-valid-Supabase-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2129025Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2129310Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2129318Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2129615Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2129623Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130019Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130026Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130135Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130242Z     Received: [31m401[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130249Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130318Z       296 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130433Z       297 |     // THEN: Request is authorized
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130566Z     > 298 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130684Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130749Z       299 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2130910Z       300 |     // AND: User identity is available in request
Selective Tests	Run selective tests	2025-11-16T16:32:16.2131033Z       301 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2131457Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:298:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2131464Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2131811Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2132209Z     test-results/artifacts/api-supabase-oauth-integra-68949-lidate-valid-Supabase-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2132279Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2132286Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2132776Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-68949-lidate-valid-Supabase-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2132790Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2133069Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2133085Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2133732Z   34) [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:305:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-002: should return 401 for invalid token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2133740Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2134229Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2134238Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2134396Z     Expected substring: [32m"token"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2134570Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2134577Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2134707Z       322 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2134839Z       323 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2134977Z     > 324 |     expect(body.error).toContain("token");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2135200Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2135276Z       325 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2135340Z       326 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2135561Z       327 |   test("[P0] 1.5-API-002-003: should return 401 for expired token", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.2136149Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:324:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.2136156Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2136514Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2136880Z     test-results/artifacts/api-supabase-oauth-integra-6fd44-eturn-401-for-invalid-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2136946Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2136960Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2137415Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-6fd44-eturn-401-for-invalid-token-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2137422Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2137702Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2137721Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2138010Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2138027Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2138413Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2138421Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2138569Z     Expected substring: [32m"token"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2138745Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2138753Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2138877Z       322 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2139013Z       323 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2139148Z     > 324 |     expect(body.error).toContain("token");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2139245Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2139320Z       325 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2139386Z       326 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2139621Z       327 |   test("[P0] 1.5-API-002-003: should return 401 for expired token", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.2140040Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:324:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.2140055Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2140408Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2140799Z     test-results/artifacts/api-supabase-oauth-integra-6fd44-eturn-401-for-invalid-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2140872Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2140880Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2141366Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-6fd44-eturn-401-for-invalid-token-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2141373Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2141656Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2141664Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2141952Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2142049Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2142438Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2142543Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2142696Z     Expected substring: [32m"token"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2142870Z     Received string:    [31m"Unauthorized"[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2142877Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2143000Z       322 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2143137Z       323 |     expect(body).toHaveProperty("error");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2143264Z     > 324 |     expect(body.error).toContain("token");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2143363Z           |                        ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2143431Z       325 |   });
Selective Tests	Run selective tests	2025-11-16T16:32:16.2143498Z       326 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2143717Z       327 |   test("[P0] 1.5-API-002-003: should return 401 for expired token", async ({
Selective Tests	Run selective tests	2025-11-16T16:32:16.2144276Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:324:24
Selective Tests	Run selective tests	2025-11-16T16:32:16.2144294Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2144648Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2145039Z     test-results/artifacts/api-supabase-oauth-integra-6fd44-eturn-401-for-invalid-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2145112Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2145119Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2145602Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-6fd44-eturn-401-for-invalid-token-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2145615Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2145900Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2145907Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2146589Z   35) [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:505:7 â€º 1.5-API-003: User Service - getUserOrCreate â€º [P0] 1.5-API-003-003: should handle duplicate email gracefully 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2146608Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2147006Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2147024Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2147140Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2147247Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2147254Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2147326Z       533 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2147597Z       534 |     // THEN: Should handle gracefully by updating existing user with new auth_provider_id
Selective Tests	Run selective tests	2025-11-16T16:32:16.2147728Z     > 535 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2147836Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2147900Z       536 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2148032Z       537 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2148160Z       538 |     expect(body).toHaveProperty("user");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2148584Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:535:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2148597Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2148943Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2149313Z     test-results/artifacts/api-supabase-oauth-integra-c8bfb--duplicate-email-gracefully-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2149379Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2149386Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2149850Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-c8bfb--duplicate-email-gracefully-api/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2149858Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2150137Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2150145Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2150438Z     Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2150446Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2150840Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2150982Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2151188Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2151403Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2151411Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2151481Z       533 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2151748Z       534 |     // THEN: Should handle gracefully by updating existing user with new auth_provider_id
Selective Tests	Run selective tests	2025-11-16T16:32:16.2151884Z     > 535 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2151983Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2152060Z       536 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2152187Z       537 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2152315Z       538 |     expect(body).toHaveProperty("user");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2152740Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:535:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2152747Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2153104Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2153545Z     test-results/artifacts/api-supabase-oauth-integra-c8bfb--duplicate-email-gracefully-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2153615Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2153627Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2154241Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-c8bfb--duplicate-email-gracefully-api-retry1/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2154251Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2154568Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2154581Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2154871Z     Retry #2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2154880Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2155277Z     Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2155284Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2155387Z     Expected: [32m200[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2155512Z     Received: [31m500[39m
Selective Tests	Run selective tests	2025-11-16T16:32:16.2155519Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2155585Z       533 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2155863Z       534 |     // THEN: Should handle gracefully by updating existing user with new auth_provider_id
Selective Tests	Run selective tests	2025-11-16T16:32:16.2155996Z     > 535 |     expect(response.status()).toBe(200);
Selective Tests	Run selective tests	2025-11-16T16:32:16.2156098Z           |                               ^
Selective Tests	Run selective tests	2025-11-16T16:32:16.2156169Z       536 |
Selective Tests	Run selective tests	2025-11-16T16:32:16.2156295Z       537 |     const body = await response.json();
Selective Tests	Run selective tests	2025-11-16T16:32:16.2156428Z       538 |     expect(body).toHaveProperty("user");
Selective Tests	Run selective tests	2025-11-16T16:32:16.2156844Z         at /home/runner/work/nuvana_pro_laptop_test/nuvana_pro_laptop_test/tests/api/supabase-oauth-integration.api.spec.ts:535:31
Selective Tests	Run selective tests	2025-11-16T16:32:16.2156851Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2157201Z     attachment #1: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2157596Z     test-results/artifacts/api-supabase-oauth-integra-c8bfb--duplicate-email-gracefully-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2157794Z     Usage:
Selective Tests	Run selective tests	2025-11-16T16:32:16.2157802Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2158289Z         npx playwright show-trace test-results/artifacts/api-supabase-oauth-integra-c8bfb--duplicate-email-gracefully-api-retry2/trace.zip
Selective Tests	Run selective tests	2025-11-16T16:32:16.2158398Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2158685Z     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selective Tests	Run selective tests	2025-11-16T16:32:16.2158694Z 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2158759Z   35 failed
Selective Tests	Run selective tests	2025-11-16T16:32:16.2159600Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:28:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-001: GET /api/auth/callback should generate access and refresh tokens after successful OAuth 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2160234Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:75:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-002: Access token should have 15 minute expiry 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2160869Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:103:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-003: Refresh token should have 7 day expiry 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2161632Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:131:7 â€º 1.6-API-001: JWT Token Generation in OAuth Callback â€º [P0] 1.6-API-001-004: JWT access token should contain user_id, email, roles, and permissions 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2162338Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:190:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-001: Protected route should accept valid JWT access token from cookie 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2163015Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:220:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-002: Protected route should return 401 for expired access token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2163680Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:245:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-003: Protected route should return 401 for invalid JWT token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2164508Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:267:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-004: Protected route should return 401 for missing access token cookie 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2165267Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:283:7 â€º 1.6-API-002: JWT Token Validation Middleware â€º [P0] 1.6-API-002-005: Middleware should extract user_id, email, roles, and permissions from token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2165952Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:408:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-001: POST /api/auth/refresh should generate new access and refresh tokens 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2166616Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:448:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-002: POST /api/auth/refresh should return 401 for expired refresh token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2167284Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:473:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-003: POST /api/auth/refresh should return 401 for invalid refresh token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2167992Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:495:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-004: POST /api/auth/refresh should return 401 for missing refresh token cookie 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2168690Z     [api] â€º tests/api/jwt-token-system.api.spec.ts:511:7 â€º 1.6-API-003: Refresh Token Endpoint â€º [P0] 1.6-API-003-005: Refresh token should be rotated (old token invalidated, new token issued) 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2169262Z     [api] â€º tests/api/rbac-framework.api.spec.ts:17:7 â€º RBAC Framework - Permission Checking â€º [P0] should grant access when user has required permission 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2169869Z     [api] â€º tests/api/rbac-framework.api.spec.ts:28:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny access with 403 when user lacks required permission 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2170405Z     [api] â€º tests/api/rbac-framework.api.spec.ts:43:7 â€º RBAC Framework - Permission Checking â€º [P0] should check SYSTEM scope permissions correctly 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2171082Z     [api] â€º tests/api/rbac-framework.api.spec.ts:56:7 â€º RBAC Framework - Permission Checking â€º [P0] should check COMPANY scope permissions correctly 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2171753Z     [api] â€º tests/api/rbac-framework.api.spec.ts:69:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny COMPANY scope access to different company 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2172313Z     [api] â€º tests/api/rbac-framework.api.spec.ts:82:7 â€º RBAC Framework - Permission Checking â€º [P0] should check STORE scope permissions correctly 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2172867Z     [api] â€º tests/api/rbac-framework.api.spec.ts:95:7 â€º RBAC Framework - Permission Checking â€º [P0] should deny STORE scope access to different store 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2173419Z     [api] â€º tests/api/rbac-framework.api.spec.ts:108:7 â€º RBAC Framework - Permission Checking â€º [P0] should inherit COMPANY permissions to STORE scope 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2174070Z     [api] â€º tests/api/rbac-framework.api.spec.ts:121:7 â€º RBAC Framework - Permission Checking â€º [P0] should handle multiple roles with different scopes 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2174681Z     [api] â€º tests/api/rbac-framework.api.spec.ts:136:7 â€º RBAC Framework - Permission Middleware â€º [P0] should validate permission before route handler executes 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2175226Z     [api] â€º tests/api/rbac-framework.api.spec.ts:150:7 â€º RBAC Framework - Permission Middleware â€º [P0] should allow authorized requests to proceed 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2175719Z     [api] â€º tests/api/rbac-framework.api.spec.ts:206:7 â€º RBAC Framework - Audit Logging â€º [P0] should log permission denial to AuditLog 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2176249Z     [api] â€º tests/api/rbac-framework.api.spec.ts:232:7 â€º RBAC Framework - Audit Logging â€º [P0] should include correct permission code in audit log 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2176741Z     [api] â€º tests/api/rbac-framework.api.spec.ts:253:7 â€º RBAC Framework - Audit Logging â€º [P0] should include resource path in audit log 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2177542Z     [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:29:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-001: GET /api/auth/callback should validate Supabase token and return user identity 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2178247Z     [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:66:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-002: GET /api/auth/callback should create new user if not exists 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2178997Z     [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:105:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-003: GET /api/auth/callback should retrieve existing user if already exists 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2179707Z     [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:151:7 â€º 1.5-API-001: OAuth Callback Endpoint â€º [P0] 1.5-API-001-004: GET /api/auth/callback should return 401 for invalid OAuth code 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2180348Z     [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:280:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-001: should validate valid Supabase token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2180982Z     [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:305:7 â€º 1.5-API-002: Token Validation Middleware â€º [P0] 1.5-API-002-002: should return 401 for invalid token 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2181652Z     [api] â€º tests/api/supabase-oauth-integration.api.spec.ts:505:7 â€º 1.5-API-003: User Service - getUserOrCreate â€º [P0] 1.5-API-003-003: should handle duplicate email gracefully 
Selective Tests	Run selective tests	2025-11-16T16:32:16.2181740Z   50 passed (2.4m)
Selective Tests	Run selective tests	2025-11-16T16:32:16.2190871Z ##[error]Process completed with exit code 1.
