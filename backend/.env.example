# Backend Environment Variables
# Copy this file to .env and update with your values

# Server Configuration
PORT=3001

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins for Cross-Origin Resource Sharing.
# This is CRITICAL for security - only list domains you control.
#
# Single origin (development):
#   CORS_ORIGIN=http://localhost:3000
#
# Multiple origins (staging + production):
#   CORS_ORIGIN=https://app.example.com,https://staging.example.com
#
# Requirements:
# - Must use HTTPS in production (HTTP only allowed for localhost)
# - No trailing slashes
# - No paths (just scheme + host + port)
# - Never use wildcard (*) with credentials
#
# The backend validates this at startup and will fail fast in production
# if misconfigured. See backend/src/config/cors.config.ts for details.
# =============================================================================
CORS_ORIGIN=http://localhost:3000

# Database Configuration
# Basic format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/nuvana_dev

# Database Connection Pool Configuration (optional - sensible defaults applied)
# These override the defaults if you need custom settings
#
# DB_CONNECTION_LIMIT - Max concurrent connections to PostgreSQL
#   - Development default: 10
#   - Production default: 20
#   - Serverless (Lambda/Vercel): Use 1-5
#   - With PgBouncer: Can be higher (50+)
# DB_CONNECTION_LIMIT=20
#
# DB_POOL_TIMEOUT - Seconds to wait for a connection from the pool (default: 30)
# DB_POOL_TIMEOUT=30
#
# DB_CONNECT_TIMEOUT - Seconds to wait for TCP connection (default: 10)
# DB_CONNECT_TIMEOUT=10
#
# Alternative: Include pool params directly in DATABASE_URL:
# DATABASE_URL=postgresql://user:pass@host:5432/db?connection_limit=20&pool_timeout=30&connect_timeout=10

# Redis Configuration (for future stories)
# REDIS_URL=redis://localhost:6379

# RabbitMQ Configuration
# For local development with Docker: use guest:guest
# For production: update with secure credentials
RABBITMQ_URL=amqp://guest:guest@localhost:5672

# JWT Configuration
JWT_SECRET=your-secret-key-here-minimum-32-characters
JWT_REFRESH_SECRET=your-refresh-secret-key-here-minimum-32-characters

# Token Expiry Configuration
# Format: Use time units like "15m" (minutes), "1h" (hours), "7d" (days)
# Default access token expiry for regular users (recommended: 1h)
ACCESS_TOKEN_EXPIRY=1h
# Extended access token expiry for super admins (recommended: 4h-8h)
SUPER_ADMIN_TOKEN_EXPIRY=8h
# Refresh token expiry - how long users stay logged in (recommended: 7d-30d)
REFRESH_TOKEN_EXPIRY=7d
